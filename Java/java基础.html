<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一.数组 | FengHua&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/myblog/favion.ico">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/myblog/assets/css/0.styles.560d855a.css" as="style"><link rel="preload" href="/myblog/assets/js/app.b6c79e47.js" as="script"><link rel="preload" href="/myblog/assets/js/2.07c82013.js" as="script"><link rel="preload" href="/myblog/assets/js/8.ed85e747.js" as="script"><link rel="prefetch" href="/myblog/assets/js/10.25f5cb02.js"><link rel="prefetch" href="/myblog/assets/js/11.38a8a6d5.js"><link rel="prefetch" href="/myblog/assets/js/12.0ab1cbaf.js"><link rel="prefetch" href="/myblog/assets/js/13.74c5b5ed.js"><link rel="prefetch" href="/myblog/assets/js/14.20415459.js"><link rel="prefetch" href="/myblog/assets/js/15.711c021c.js"><link rel="prefetch" href="/myblog/assets/js/16.42ef97b7.js"><link rel="prefetch" href="/myblog/assets/js/17.cc18d18f.js"><link rel="prefetch" href="/myblog/assets/js/18.d6ad4caf.js"><link rel="prefetch" href="/myblog/assets/js/19.f1ba2430.js"><link rel="prefetch" href="/myblog/assets/js/3.9b0617e7.js"><link rel="prefetch" href="/myblog/assets/js/4.e7c6ff3d.js"><link rel="prefetch" href="/myblog/assets/js/5.31a8c719.js"><link rel="prefetch" href="/myblog/assets/js/6.1b2b1b13.js"><link rel="prefetch" href="/myblog/assets/js/7.7bb05e1f.js"><link rel="prefetch" href="/myblog/assets/js/9.fa449085.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.560d855a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myblog/" class="home-link router-link-active"><img src="/myblog/logo.png" alt="FengHua's Blog" class="logo"> <span class="site-name can-hide">FengHua's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myblog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="docker" class="dropdown-title"><span class="title">docker</span> <span class="arrow down"></span></button> <button type="button" aria-label="docker" class="mobile-dropdown-title"><span class="title">docker</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/docker/docker.html" class="nav-link">
  docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="git" class="dropdown-title"><span class="title">git</span> <span class="arrow down"></span></button> <button type="button" aria-label="git" class="mobile-dropdown-title"><span class="title">git</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/git/git.html" class="nav-link">
  git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/Java/JavaHttp.html" class="nav-link">
  JavaHttp
</a></li><li class="dropdown-item"><!----> <a href="/myblog/Java/java基础.html" class="nav-link">
  java基础
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="mysql" class="dropdown-title"><span class="title">mysql</span> <span class="arrow down"></span></button> <button type="button" aria-label="mysql" class="mobile-dropdown-title"><span class="title">mysql</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/mysql/数据字典.html" class="nav-link">
  数据字典
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="spring系列" class="dropdown-title"><span class="title">spring系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="spring系列" class="mobile-dropdown-title"><span class="title">spring系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/spring系列/Spring-logback.html" class="nav-link">
  Spring-logback
</a></li><li class="dropdown-item"><!----> <a href="/myblog/spring系列/Spring5.html" class="nav-link">
  Spring5
</a></li><li class="dropdown-item"><!----> <a href="/myblog/spring系列/SpringMVC.html" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-item"><!----> <a href="/myblog/spring系列/Spring整合MyBatis.html" class="nav-link">
  Spring整合MyBatis
</a></li><li class="dropdown-item"><!----> <a href="/myblog/spring系列/SSM整合.html" class="nav-link">
  SSM整合
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue" class="dropdown-title"><span class="title">vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="vue" class="mobile-dropdown-title"><span class="title">vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/vue.html" class="nav-link">
  vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/工具/typora+七牛云.html" class="nav-link">
  typora+七牛云
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/myblog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="docker" class="dropdown-title"><span class="title">docker</span> <span class="arrow down"></span></button> <button type="button" aria-label="docker" class="mobile-dropdown-title"><span class="title">docker</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/docker/docker.html" class="nav-link">
  docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="git" class="dropdown-title"><span class="title">git</span> <span class="arrow down"></span></button> <button type="button" aria-label="git" class="mobile-dropdown-title"><span class="title">git</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/git/git.html" class="nav-link">
  git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/Java/JavaHttp.html" class="nav-link">
  JavaHttp
</a></li><li class="dropdown-item"><!----> <a href="/myblog/Java/java基础.html" class="nav-link">
  java基础
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="mysql" class="dropdown-title"><span class="title">mysql</span> <span class="arrow down"></span></button> <button type="button" aria-label="mysql" class="mobile-dropdown-title"><span class="title">mysql</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/mysql/数据字典.html" class="nav-link">
  数据字典
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="spring系列" class="dropdown-title"><span class="title">spring系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="spring系列" class="mobile-dropdown-title"><span class="title">spring系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/spring系列/Spring-logback.html" class="nav-link">
  Spring-logback
</a></li><li class="dropdown-item"><!----> <a href="/myblog/spring系列/Spring5.html" class="nav-link">
  Spring5
</a></li><li class="dropdown-item"><!----> <a href="/myblog/spring系列/SpringMVC.html" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-item"><!----> <a href="/myblog/spring系列/Spring整合MyBatis.html" class="nav-link">
  Spring整合MyBatis
</a></li><li class="dropdown-item"><!----> <a href="/myblog/spring系列/SSM整合.html" class="nav-link">
  SSM整合
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue" class="dropdown-title"><span class="title">vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="vue" class="mobile-dropdown-title"><span class="title">vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/vue.html" class="nav-link">
  vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/工具/typora+七牛云.html" class="nav-link">
  typora+七牛云
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>一.数组</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#数组定义格式" class="sidebar-link">数组定义格式</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#数组初始化之动态初始化" class="sidebar-link">数组初始化之动态初始化</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#数组元素访问" class="sidebar-link">数组元素访问</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#内存分配" class="sidebar-link">内存分配</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#数组初始化之静态初始化" class="sidebar-link">数组初始化之静态初始化</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#数组操作的两个常见的小问题" class="sidebar-link">数组操作的两个常见的小问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#数组常见操作" class="sidebar-link">数组常见操作</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#数组常用方法" class="sidebar-link">数组常用方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#string构造方法" class="sidebar-link">String构造方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#string对象的特点" class="sidebar-link">String对象的特点</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#字符串的比较" class="sidebar-link">字符串的比较</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#遍历字符串" class="sidebar-link">遍历字符串</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#构造方法" class="sidebar-link">构造方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#添加和反转方法" class="sidebar-link">添加和反转方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#stringbuilder和string互相转换" class="sidebar-link">Stringbuilder和String互相转换</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#integer" class="sidebar-link">Integer</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#_9-1-集合体系结构图" class="sidebar-link">9.1 集合体系结构图</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#collection集合" class="sidebar-link">Collection集合</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#list集合" class="sidebar-link">List集合</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#arraylist" class="sidebar-link">ArrayList</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#linkedlist" class="sidebar-link">LinkedList</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#set集合" class="sidebar-link">Set集合</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#hash值" class="sidebar-link">Hash值</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#hashset" class="sidebar-link">HashSet</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#linkedhashset" class="sidebar-link">LinkedHashSet</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#treeset" class="sidebar-link">TreeSet</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#map集合" class="sidebar-link">Map集合</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#collections" class="sidebar-link">Collections</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#泛型类" class="sidebar-link">泛型类</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#泛型方法" class="sidebar-link">泛型方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#泛型接口" class="sidebar-link">泛型接口</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#类型通配符" class="sidebar-link">类型通配符</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#可变参数" class="sidebar-link">可变参数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#构造方法-2" class="sidebar-link">构造方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#file类的创建功能" class="sidebar-link">File类的创建功能</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#file类判断和获取功能" class="sidebar-link">File类判断和获取功能</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#file类删除功能" class="sidebar-link">File类删除功能</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#字节流" class="sidebar-link">字节流</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#字节缓冲流" class="sidebar-link">字节缓冲流</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#字符流" class="sidebar-link">字符流</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#读写异常处理" class="sidebar-link">读写异常处理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#标准io流" class="sidebar-link">标准IO流</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#打印流" class="sidebar-link">打印流</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#对象序列化" class="sidebar-link">对象序列化</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#properties作为map集合使用" class="sidebar-link">Properties作为Map集合使用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#网络编程" class="sidebar-link">网络编程</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#http特点" class="sidebar-link">HTTP特点:</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#网络编程三要素" class="sidebar-link">网络编程三要素</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#常用命令" class="sidebar-link">常用命令</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#inetaddress的使用" class="sidebar-link">InetAddress的使用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#udp通信原理" class="sidebar-link">UDP通信原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#udp发送数据步骤" class="sidebar-link">UDP发送数据步骤</a></li><li class="sidebar-sub-header"><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#udp接收数据步骤" class="sidebar-link">UDP接收数据步骤</a></li></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#tcp通信原理" class="sidebar-link">TCP通信原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#tcp发送数据" class="sidebar-link">TCP发送数据</a></li><li class="sidebar-sub-header"><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#tcp接收数据" class="sidebar-link">TCP接收数据</a></li></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#接口中默认方法" class="sidebar-link">接口中默认方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#接口中的静态方法" class="sidebar-link">接口中的静态方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#接口中私有方法" class="sidebar-link">接口中私有方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#stream流的生成" class="sidebar-link">Stream流的生成</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#生成流的方式" class="sidebar-link">生成流的方式</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#中间操作方法" class="sidebar-link">中间操作方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#stream流的收集操作" class="sidebar-link">Stream流的收集操作</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#类加载器" class="sidebar-link">类加载器</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#反射" class="sidebar-link">反射</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#反射获取class类对象-字节码对象" class="sidebar-link">反射获取Class类对象（字节码对象）</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#反射获取构造方法" class="sidebar-link">反射获取构造方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#反射获取成员变量" class="sidebar-link">反射获取成员变量</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#反射获取成员方法" class="sidebar-link">反射获取成员方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#反射越过集合泛型检查" class="sidebar-link">反射越过集合泛型检查</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#反射通过配置文件运行类方法" class="sidebar-link">反射通过配置文件运行类方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#模块化概述" class="sidebar-link">模块化概述</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#jdk内置注解" class="sidebar-link">JDK内置注解</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#自定义注解" class="sidebar-link">自定义注解</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#元注解" class="sidebar-link">元注解</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#多线程的实现方式" class="sidebar-link">多线程的实现方式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#方式1-继承thread类" class="sidebar-link">方式1：继承Thread类</a></li><li class="sidebar-sub-header"><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#方式2-实现runnable接口" class="sidebar-link">方式2：实现Runnable接口</a></li></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#设置和获取线程名称" class="sidebar-link">设置和获取线程名称</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#线程调度" class="sidebar-link">线程调度</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#线程控制" class="sidebar-link">线程控制</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#线程生命周期" class="sidebar-link">线程生命周期</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#线程同步" class="sidebar-link">线程同步</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#同步代码块解决线程安全问题" class="sidebar-link">同步代码块解决线程安全问题</a></li><li class="sidebar-sub-header"><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#同步方法" class="sidebar-link">同步方法</a></li></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#线程安全的类" class="sidebar-link">线程安全的类</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#lock锁" class="sidebar-link">Lock锁</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/myblog/Java/java%E5%9F%BA%E7%A1%80.html#生产者-消费者模式" class="sidebar-link">生产者/消费者模式</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="一-数组"><a href="#一-数组" class="header-anchor">#</a> 一.数组</h1> <h2 id="数组定义格式"><a href="#数组定义格式" class="header-anchor">#</a> 数组定义格式</h2> <p>定义：数组(array)是存储多个相同类型数据的存储模型。</p> <p>数组的定义格式：</p> <ul><li>格式一：数据类型[] 变量名</li> <li>范例：int[] arr</li> <li>格式二：数据类型 变量名[]</li> <li>范例：int arr[]</li></ul> <h2 id="数组初始化之动态初始化"><a href="#数组初始化之动态初始化" class="header-anchor">#</a> 数组初始化之动态初始化</h2> <p>定义：Java中的数组必须先初始化，然后才能使用。</p> <p>所谓初始化：就是为数组中的数组元素分配内存空间，并为每个数组元素赋值。</p> <p>动态初始化：初始化时只指定数组的长度，由系统为数组分配初始值。</p> <ul><li>格式：数据类型[] 变量名 = new 数据类型[长度]；</li> <li>范例：int[] arr = new int[3];</li></ul> <h2 id="数组元素访问"><a href="#数组元素访问" class="header-anchor">#</a> 数组元素访问</h2> <ul><li>数组变量访问方式</li> <li>格式：数组名</li> <li>数组内部元素访问方式</li> <li>格式：数组名[索引]</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ArrayDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;访问数组名：&quot;</span><span class="token operator">+</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;访问数组内部元素&quot;</span><span class="token operator">+</span>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="内存分配"><a href="#内存分配" class="header-anchor">#</a> 内存分配</h2> <p>Java程序在运行时，需要在内存中分配空间。为了提高运算效率，就对空间进行了不同区域的划分,因为每一片区域都有特定的处理数据方式和内存管理方式。</p> <p><img src="http://img.fancynet.cn/typora_img/image-20220705221543108.png" alt="image-20220705221543108"></p> <ul><li>栈内存:存储局部变量，定义在方法中的变量，使用完毕，立即消失</li> <li>堆内存:存储new出来的内容(实体，对象)数组在初始化时，会为存储空间添加默认值
<ul><li>整数：0</li> <li>浮点数：0.0</li> <li>布尔：false</li> <li>字符：空字符</li> <li>引用数据类型：null</li></ul></li></ul> <p>定义在方法中的变量，例如: arr使用完毕，立即消失</p> <p>堆内存:存储new出来的内容(实体，对象)数组在初始化时，会为存储空间添加默认值</p> <ul><li>整数:0</li> <li>浮点数:0.0布尔: false</li></ul> <p>每一个new出来的东西都有一个地址值使用完毕，会在垃圾回收器空闲时被回收</p> <h2 id="数组初始化之静态初始化"><a href="#数组初始化之静态初始化" class="header-anchor">#</a> 数组初始化之静态初始化</h2> <p>静态初始化:初始化时指定每个数组元素的初始值，由系统决定数组长度。</p> <p>格式：数据类型[] 变量名 = new 数据类型[]{数据1,数据2...}</p> <p>范例：int[] arr = new int[]{1,2,3};</p> <p>简化格式：int[] arr = {1,2,3}</p> <h2 id="数组操作的两个常见的小问题"><a href="#数组操作的两个常见的小问题" class="header-anchor">#</a> 数组操作的两个常见的小问题</h2> <ul><li><p>索引越界：访问了数组中不存在的索引对应的元素，造成索引越界问题</p> <p><img src="http://img.fancynet.cn/typora_img/image-20220705222512315.png" alt="image-20220705222512315"></p></li> <li><p>空指针异常：访问的数组已经不再指向堆内存的数据，造成空指针异常</p> <p><img src="http://img.fancynet.cn/typora_img/image-20220705222711159.png" alt="image-20220705222711159"></p></li></ul> <p>null：空值，引用数据类型的默认值，表示不指向任何有效对象</p> <h2 id="数组常见操作"><a href="#数组常见操作" class="header-anchor">#</a> 数组常见操作</h2> <ul><li>遍历</li> <li>获取数组元素数量
<ul><li>数组名.length</li> <li>范例：arr.length</li></ul></li> <li>获取最值</li></ul> <h2 id="数组常用方法"><a href="#数组常用方法" class="header-anchor">#</a> 数组常用方法</h2> <ul><li><p>数组转字符串</p> <ul><li>Arrays.toString(数组名)</li></ul></li> <li><p>判断数组内部是否包含某个值</p> <ul><li>Arrays.asList(数组名).contains(值)</li></ul></li> <li><p>复制数组</p> <ul><li>Arrays.copyOfRange(数组名,起始下标,截止下表	)</li> <li>clone()方法： 创建并返回此对象的副本。</li></ul></li> <li><p>数组排序</p> <ul><li>Arrays.sort(数组名)</li></ul></li> <li><p>合并数组</p> <ul><li>ArrayUtils.addAll(数组1,数组2);</li></ul></li> <li><p>拼接数组元素</p> <ul><li>StringUtils.join(数组名,'分隔符')</li> <li>数组名.join('分隔符')</li></ul></li> <li><p>ArrayList 转换成数组</p> <ul><li>arrayList.toArray(数组名);</li></ul></li> <li><p>数组转Set</p> <ul><li>Set<String> set = new HashSet<String>(Arrays.asList(stringArray));</String></String></li></ul></li> <li><p>反转数组</p> <ul><li>reverse(数组名)</li></ul></li> <li><p>移除数组中的元素</p> <ul><li>ArrayUtils.removeElement(intArray, 3);</li></ul></li></ul> <h1 id="二-string"><a href="#二-string" class="header-anchor">#</a> 二.String</h1> <p>String类在java.lang包下，所以使用的时候不需要导包。</p> <p>String类代表字符串，Java程序中的所有字符串文字（例如“abc”)都被实现为此类的实例也就是说，Java程序中所有的双引号字符串，都是String类的对象。</p> <p><strong>字符串的特点</strong></p> <ul><li>字符串不可变，它们的值在创建后不能被更改。</li> <li>虽然String的值是不可变的，但是它们可以被共享。</li> <li>字符串效果上相当于字符数组( char[])，但是底层原理是字节数组( byte[])。</li> <li>JDK8及以前是字符数组，JDK9及以后是字节数组。</li></ul> <h2 id="string构造方法"><a href="#string构造方法" class="header-anchor">#</a> String构造方法</h2> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>public String()</td> <td>创建一个空白字符串对象，不含有内核内容</td></tr> <tr><td>public String(char[] chs)</td> <td>根据字符数组的内容，来创建字符串对象</td></tr> <tr><td>public String(byte[] bys)</td> <td>根据字节数组的内容，来创建字符串对象</td></tr> <tr><td>String s = &quot;abc&quot;</td> <td>直接赋值的方式创建字符串对象，内容就是abc</td></tr></tbody></table> <h2 id="string对象的特点"><a href="#string对象的特点" class="header-anchor">#</a> String对象的特点</h2> <ol><li><p>通过new创建的字符串对象，每一次new都会申请一个内存空间，虽然内容相同，但是地址值不同。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> s3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// s3 != s4</span>
</code></pre></div></li></ol> <p>​			上面的代码中，JVM会首先创建一个字符数组，然后每一次new的时候都会有一个新的地址，只不过s1			和s2参考的字符串内容是相同的</p> <h2 id="字符串的比较"><a href="#字符串的比较" class="header-anchor">#</a> 字符串的比较</h2> <p>使用==做比较</p> <ul><li>基本类型：比较的是数据值是否相同。</li> <li>引用类型：比较的是数据地址是否相同。</li></ul> <p>字符串是对象，它比较内容是否相同，是通过一个方法来实现的，这个方法叫: equals()</p> <p>**public boolean equals(0bject anObject)**将此字符串与指定对象进行比较。由于我们比较的是字符串对象，所以参数直接传递一个字符串。</p> <h2 id="遍历字符串"><a href="#遍历字符串" class="header-anchor">#</a> 遍历字符串</h2> <p>遍历字符串，首先要能够获取到字符串中的每一个字符。</p> <p>public char charAt(int index); 返回指定索引处的char值，字符串的索引也是从0开始的.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> abc <span class="token operator">=</span> <span class="token string">&quot;我喜欢你&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> abc<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>abc<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="三-stringbuilder"><a href="#三-stringbuilder" class="header-anchor">#</a> 三.StringBuilder</h1> <p><img src="http://img.fancynet.cn/typora_img/image-20220706182107450.png" alt="image-20220706182107450"></p> <p>如果对字符串进行拼接操作，每次拼接，都会构建一个新的String对象，既耗时，又浪费内存空间，而这种操作还不可避免。那么有没有一种比较子的方式可以解决这个问题呢?答案是肯定的，我们可以通过Java提供的<code>StringBuilder</code>类就来解决这个问题。</p> <h2 id="构造方法"><a href="#构造方法" class="header-anchor">#</a> 构造方法</h2> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>public StringBuilder()</td> <td>创建一个空白可变字符串对象，不含有任何内容</td></tr> <tr><td>public StringBuilder(String str)</td> <td>根据字符串的内容，来创建可变字符串对象</td></tr></tbody></table> <h2 id="添加和反转方法"><a href="#添加和反转方法" class="header-anchor">#</a> 添加和反转方法</h2> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>public StringBuilder append(任意类型)</td> <td>添加数据，并返回对象本身</td></tr> <tr><td>public StringBuilder reverse()</td> <td>返回相反的字符序列</td></tr></tbody></table> <h2 id="stringbuilder和string互相转换"><a href="#stringbuilder和string互相转换" class="header-anchor">#</a> Stringbuilder和String互相转换</h2> <ul><li>StringBuilder转String
<ul><li>public String toString():通过toString()就可以实现把StringBuilder转换为String</li></ul></li> <li>String转StringBuilder
<ul><li>public StringBuilder(String s):通过构造方法就可以实现把String转换为StringBuilder</li></ul></li></ul> <h1 id="四-math"><a href="#四-math" class="header-anchor">#</a> 四.Math</h1> <p><strong>概述</strong></p> <p>Math包含执行基本数字运算的方法。</p> <p><strong>常用方法</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>public static int abs(int a)</td> <td>返回参数的绝对值</td></tr> <tr><td>public static double ceil(double a)</td> <td>返回大于或等于参数的最小double值，等于一个整数</td></tr> <tr><td>public static double floor(double a)</td> <td>返回小于或等于参数的最小double值，等于一个整数</td></tr> <tr><td>public static int round(float a)</td> <td>按照四舍五入返回最接近参数的int</td></tr> <tr><td>public static int max(int a,int b)</td> <td>返回两个int值之中的最大值</td></tr> <tr><td>public static int min(int a,int b)</td> <td>返回两个int值之中的最小值</td></tr> <tr><td>public static double pow(double a,double b)</td> <td>返回a的b次幂的值</td></tr> <tr><td>public static double random()</td> <td>返回double的正值[0.0,1.0)</td></tr></tbody></table> <h1 id="五-system"><a href="#五-system" class="header-anchor">#</a> 五.System</h1> <p><strong>概述</strong></p> <p>System包含几个有用的类字段和方法，它不能被实例化。</p> <p><strong>常用方法</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>public static void exit(int status)</td> <td>终止当前运行的Java虚拟机，非0表示异常终止</td></tr> <tr><td>public static long currentTimeMillis</td> <td>返回当前时间(以毫秒为单位)</td></tr></tbody></table> <h1 id="六-object"><a href="#六-object" class="header-anchor">#</a> 六.Object</h1> <p><strong>概述</strong></p> <p>Object是类层次结构的根，每个类都可以将Object作为超类。所有类都直接或者间接的继承自该类。</p> <p>构造方法: public Object()</p> <p><strong>常用方法</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>public boolean equals(Object o)</td> <td>比较两个引用类型的值是否相等，返回boolean值</td></tr> <tr><td>public String toString(Object o)</td> <td>将参数值转换为String类型的值</td></tr></tbody></table> <h1 id="七-arrays"><a href="#七-arrays" class="header-anchor">#</a> 七.Arrays</h1> <p><strong>概述</strong></p> <p>Arravs类包含用干损作数组的各种方法。</p> <p><strong>常用方法</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>public static String toString(int[] a)</td> <td>返回指定数组的内容的字符串表示形式</td></tr> <tr><td>public static void sort(int[] a)</td> <td>按照数字顺序排列指定的数组</td></tr></tbody></table> <h1 id="八-基本类型包装类"><a href="#八-基本类型包装类" class="header-anchor">#</a> 八.基本类型包装类</h1> <p><strong>概述</strong></p> <p>将基本数据类型封装宓对象的好处在于可以在对象中定义更多的功能方法操作该数据。</p> <p>常用的操作之一:用于基本数据类型与字符串之间的转换。</p> <table><thead><tr><th>基本数据类型</th> <th>包装类</th></tr></thead> <tbody><tr><td>byte</td> <td>Byte</td></tr> <tr><td>short</td> <td>Short</td></tr> <tr><td>int</td> <td>Integer</td></tr> <tr><td>long</td> <td>Long</td></tr> <tr><td>float</td> <td>Float</td></tr> <tr><td>double</td> <td>Double</td></tr> <tr><td>char</td> <td>Character</td></tr> <tr><td>boolean</td> <td>Boolean</td></tr></tbody></table> <h2 id="integer"><a href="#integer" class="header-anchor">#</a> Integer</h2> <p><strong>概述：</strong> Integer:包装一个对象中的原始类型int的值</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>public static Integer valueOf(int i)</td> <td>返回表示指定的Int值的Integer实例</td></tr> <tr><td>public static Integer valueOf(String s)</td> <td>String转Integer</td></tr></tbody></table> <h1 id="九-集合"><a href="#九-集合" class="header-anchor">#</a> 九.集合</h1> <p><strong>集合概述</strong></p> <p>集合类的特点:提供一种存储空间可变的存储模型，存储的数据容量可以发生改变</p> <h2 id="_9-1-集合体系结构图"><a href="#_9-1-集合体系结构图" class="header-anchor">#</a> 9.1 集合体系结构图</h2> <p>集合类的特点：提供一种存储空间可变的存储模型，存储的数据容量可以随时发生改变。</p> <div class="language-mermaid extra-class"><pre class="language-mermaid"><code><span class="token keyword">graph</span> TD<span class="token punctuation">;</span>
<span class="token keyword">classDef</span> fillStyle <span class="token style"><span class="token property">fill</span><span class="token operator">:</span>#f96</span><span class="token punctuation">;</span>
node<span class="token text string">([集合])</span><span class="token arrow operator">--&gt;</span>n1<span class="token text string">[Collection 单列]</span><span class="token punctuation">;</span>
	n1<span class="token text string">[Collection 单列]</span><span class="token arrow operator">--&gt;</span>n1.2<span class="token text string">[List 可重复]</span><span class="token punctuation">;</span>
		n1.2<span class="token text string">[List 可重复]</span><span class="token arrow operator">--&gt;</span>n1.2.1<span class="token text string">[ArrayList]</span><span class="token operator">:::</span>fillStyle
		n1.2<span class="token text string">[List 可重复]</span><span class="token arrow operator">--&gt;</span>n1.2.2<span class="token text string">[LinkedList]</span><span class="token operator">:::</span>fillStyle
	n1<span class="token text string">[Collection 单列]</span><span class="token arrow operator">--&gt;</span>n1.3<span class="token text string">[Set 不可重复]</span><span class="token punctuation">;</span>
		n1.3<span class="token text string">[Set 不可重复]</span><span class="token arrow operator">--&gt;</span>n1.3.1<span class="token text string">[HashSet]</span><span class="token operator">:::</span>fillStyle
		n1.3<span class="token text string">[Set 不可重复]</span><span class="token arrow operator">--&gt;</span>n1.3.2<span class="token text string">[TreeSet]</span><span class="token operator">:::</span>fillStyle
node<span class="token text string">([集合])</span><span class="token arrow operator">--&gt;</span>n2<span class="token text string">[Map 双列]</span><span class="token punctuation">;</span>
	n2<span class="token text string">[Map 双列]</span><span class="token arrow operator">--&gt;</span>2.1<span class="token text string">[HashMap]</span><span class="token operator">:::</span>fillStyle
</code></pre></div><h2 id="collection集合"><a href="#collection集合" class="header-anchor">#</a> Collection集合</h2> <p><strong>Collection集合概述</strong></p> <ul><li><p>是单例集合的顶层接口，它表示一组对象，这些对象也称为Collection的元素。</p></li> <li><p>JDK不提供此接口的任何直接实现，它提供更具体的子接口(如Set和List)实现</p></li></ul> <p><strong>创建Collection集合对象</strong></p> <ul><li>多态的方式</li> <li>具体实现类ArrayList</li></ul> <p><strong>常用方法</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>boolean add(E e)</td> <td>添加元素</td></tr> <tr><td>boolean remove(Object o)</td> <td>从集合中移除指定元素</td></tr> <tr><td>void clear()</td> <td>清空集合中的元素</td></tr> <tr><td>boolean contains(Object o)</td> <td>判断集合中是否存在指定的元素</td></tr> <tr><td>boolean isEmpty()</td> <td>判断集合是否为空</td></tr> <tr><td>int size()</td> <td>集合的长度，也就是集合中元素的个数</td></tr></tbody></table> <p><strong>Collection集合的遍历</strong></p> <p>方式一：foreach</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;我的歌&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;哈拉少&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>v <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>方式二：iterator迭代器</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;我的歌&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;哈拉少&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="list集合"><a href="#list集合" class="header-anchor">#</a> List集合</h2> <p><strong>概述：</strong></p> <ul><li>有序集合(也称为序列)，用户可以精确控制列表中每个元素的插入位置。用户可以通过整数索引访问元素并搜索列表中的元素。</li> <li>与Set集合不同，列表通常允许重复的元素。</li></ul> <p><strong>特点</strong></p> <ul><li>有序：存储和取出元素的顺序一致</li> <li>可重复：存储的元素可以重复</li></ul> <p><strong>List集合特有方法</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>void add(int index,E e)</td> <td>在指定位置插入元素</td></tr> <tr><td>E remove(int index)</td> <td>删除指定索引处元素</td></tr> <tr><td>E set(int index,E e)</td> <td>修改指定索引处元素，返回被修改的元素</td></tr> <tr><td>E get(int index)</td> <td>返回指定索引处的元素</td></tr></tbody></table> <h2 id="arraylist"><a href="#arraylist" class="header-anchor">#</a> ArrayList</h2> <p><code>ArrayList&lt;E&gt;</code></p> <ul><li>可调整大小的数组实现</li> <li><E>是一种特殊的数据类型，泛型
</E></li></ul> <p><strong>特点</strong></p> <p>查询快，增删改慢。</p> <p><strong>常用方法</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>public boolean remove(Object o)</td> <td>删除指定的元素，返回删除是否成功</td></tr> <tr><td>public E remove(int index)</td> <td>删除指定索引处的元素，返回被删除的元素</td></tr> <tr><td>public E set(int index,E e)</td> <td>修改指定索引处的元素，返回被修改的元素</td></tr> <tr><td>public E get(int index)</td> <td>返回指定索引处的元素</td></tr> <tr><td>public int size()</td> <td>返回集合中元素的个数</td></tr> <tr><td>public boolean add(E e)</td> <td>将指定元素追加到此集合的末尾</td></tr> <tr><td>public void add(int index,E e)public boolean add(E e)</td> <td>在此集合中的指定位置插入指定的元素将指定元素追加到此集合的末尾</td></tr></tbody></table> <h2 id="linkedlist"><a href="#linkedlist" class="header-anchor">#</a> LinkedList</h2> <p><strong>概述</strong></p> <p>LinkedList集合是基于List接口实现的，底层是链表。</p> <p><strong>特点</strong></p> <p>查询慢，增删改快。</p> <p><strong>常用方法</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>public void addFitst(E e)</td> <td>在该列表开头插入指定的元素</td></tr> <tr><td>public void addLast(E e)</td> <td>将指定的元素追加到此表的末尾</td></tr> <tr><td>public E getFirst()</td> <td>返回列表中的第一个元素</td></tr> <tr><td>public E getLast()</td> <td>返回列表中的最后一个元素</td></tr> <tr><td>public E removeFirst()</td> <td>从此列表删除第一个元素</td></tr> <tr><td>public E removeFirst()</td> <td>从此列表删除最后一个元素</td></tr></tbody></table> <h2 id="set集合"><a href="#set集合" class="header-anchor">#</a> Set集合</h2> <p><strong>特点</strong></p> <ul><li>不允许元素重复</li> <li>没有带索引的方法，不能使用普通for遍历</li> <li>对集合的迭代顺序不能保证</li></ul> <h2 id="hash值"><a href="#hash值" class="header-anchor">#</a> Hash值</h2> <p>**哈希值：**是JDK根据对象的<code>地址</code>或者<code>字符串</code>或者<code>数字</code>算出来的int类型的<code>数值</code>。</p> <p>Object类中有一个方法可以获取<code>对象的哈希值</code></p> <ul><li>public int hashCode();	返回对象的哈希值</li></ul> <p><strong>特点</strong></p> <ul><li>同一个对象多次调用hashCode()方法返回的哈希值是相同的。</li> <li>默认情况下，不同对象的哈希值是不同的。而重写hashCode()方法，可以实现让不同对象的哈希值相同。</li></ul> <p><strong>哈希表</strong></p> <ul><li>JDK8之前，底层采用<code>数组+链表</code>实现，可以说是一个元素为链表的数组。</li> <li>JDK8之后，在长度较长的时候，底层实现了优化。</li></ul> <h2 id="hashset"><a href="#hashset" class="header-anchor">#</a> HashSet</h2> <p>**概述：**该类实现Set接口，由哈希表支持。对集合迭代顺序不做保证；特别是，它不能保证在一段时间内保持不变。这个类允许null元素。</p> <p><strong>特点：</strong></p> <ul><li>底层数据结构是哈希表。</li> <li>对集合的迭代顺序不作任何保证，也就是说不保证存储和取出的元素顺序一致。</li> <li>没有带索引的方法，所以不能使用普通for循环遍历。</li> <li>由于是Set集合，所以是不包含重复元素的集合。</li></ul> <h2 id="linkedhashset"><a href="#linkedhashset" class="header-anchor">#</a> LinkedHashSet</h2> <p>**概述：**哈希表和链表实现的Set接口，具有可预测的迭代次序。</p> <p><strong>特点：</strong></p> <ul><li>哈希表和链表实现的Set接口，具有可预测的迭代次序。</li> <li>由链表保证元素有序，也就是说元素的存储和取出顺序是一致的。</li> <li>由哈希表保证元素唯一，也就是说没有重复的元素。</li></ul> <h2 id="treeset"><a href="#treeset" class="header-anchor">#</a> TreeSet</h2> <p><strong>特点：</strong></p> <ul><li>元素有序，这里的顺序不是指存储和取出的顺序，而是按照一定的规则进行排序，具体排序方式取决于构造方法。</li> <li>TreeSet()：根据其元素的自然排序进行排序。</li> <li>TreeSet(Comparator comparator)：根据指定的比较器进行排序。</li> <li>由于是Set集合，所以不包含重复元素的集合。</li></ul> <h2 id="map集合"><a href="#map集合" class="header-anchor">#</a> Map集合</h2> <p><strong>概述</strong></p> <ul><li>Interface Map&lt;K,V&gt;	K:键的类型;	V:值的类型</li> <li>将键映射到值的对象；不能包含重复的键；每个键可以映射到最多一个值</li></ul> <p><strong>基本功能</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>V put(K k,V v)</td> <td>添加元素</td></tr> <tr><td>V remove(K k)</td> <td>根据K删除元素</td></tr> <tr><td>void clear()</td> <td>移除所有元素</td></tr> <tr><td>boolean containsKey(K k)</td> <td>判断集合是否包含指定的键</td></tr> <tr><td>boolean containsValue(V v)</td> <td>判断集合是否包含指定的值</td></tr> <tr><td>boolean isEmpty()</td> <td>判断集合是否为空</td></tr> <tr><td>int size()</td> <td>获取集合的长度</td></tr> <tr><td>V get(K k)</td> <td>根据键获取值</td></tr> <tr><td>Set<K> keySet()</K></td> <td>获取所有键的集合</td></tr> <tr><td>Collection<V> values()</V></td> <td>获取所有值的集合</td></tr> <tr><td>Set&lt;Map.Entry&lt;K,V&gt;&gt;  entrySet()</td> <td>获取所有键值对对象的集合</td></tr></tbody></table> <h2 id="collections"><a href="#collections" class="header-anchor">#</a> Collections</h2> <p>**概述：**Collections是针对集合操作的工具类。</p> <p><strong>常用方法：</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>static &lt;T extends Comparable&lt;? super  T&gt;&gt;void sort(List<T> list)</T></td> <td>将指定的列表按升序排序</td></tr> <tr><td>static void reverse(List&lt;?&gt; list)</td> <td>反转指定列表中元素的顺序</td></tr> <tr><td>static void shuffle(List&lt;?&gt; list)</td> <td>使用默认的随机源随机排列指定的列表</td></tr></tbody></table> <h1 id="十-泛型"><a href="#十-泛型" class="header-anchor">#</a> 十.泛型</h1> <p>**泛型：**是JDK5中引入的特性，它提供了编译时类型安全检测机制，该机制允许在编译时检测到非法的类型它的本质是参数化类型，也就是说所操作的数据类型被指定为一个参数。</p> <p>一提到参数，最熟悉的就是定义方法时有形参，然后调用此方法传递实参，顾名思义，就是将类型由原来的具体的类型参数化，然后在使用/调用时传入具体的类型。</p> <p>这种参数类型可以用在类、方法和接口中，分别被称为泛型类、泛型方法、泛型接口</p> <p><strong>泛型定义格式</strong></p> <ul><li>&lt;类型&gt;：指定一种类型的格式。这里的类型可以看成是形参。</li> <li>&lt;类型1，类型2...&gt;：指定多种类型的格式，多种类型之间用逗号分隔。这里的类型可以看成是形参。</li> <li>将来具体调用的时候给定实参，并且实参的类型只能是引用数据类型。</li></ul> <h2 id="泛型类"><a href="#泛型类" class="header-anchor">#</a> <strong>泛型类</strong></h2> <ul><li>格式：修饰符 class 类名&lt;类型&gt;{}</li> <li>范例：public class Generic<T>{}
<ul><li>此处的T可以是任意标识，常见的如T,E,K,V等形式的参数常用于表示泛型。</li></ul></T></li></ul> <h2 id="泛型方法"><a href="#泛型方法" class="header-anchor">#</a> <strong>泛型方法</strong></h2> <ul><li>格式：修饰符&lt;类型&gt;  返回值类型  方法名(类型 变量名){}</li> <li>范例1：public<T> void show(T t){}</T></li> <li>范例2：public  static<T> void show(T t){}</T></li></ul> <h2 id="泛型接口"><a href="#泛型接口" class="header-anchor">#</a> <strong>泛型接口</strong></h2> <ul><li>格式：修饰符 interface 接口名&lt;类型&gt;{}</li> <li>范例：public interface Test<T>{}</T></li></ul> <h2 id="类型通配符"><a href="#类型通配符" class="header-anchor">#</a> <strong>类型通配符</strong></h2> <p>为了表示各种泛型list的父亲，可以使用类型通配符</p> <ul><li>类型通配符：&lt;?&gt;</li> <li>list&lt;?&gt;：表示元素类型未知的list，它的元素可以匹配<code>任何的类型</code>。</li> <li>这种带通配符的list仅表示它是各种泛型list的父类，并不能把元素添加到其中。</li></ul> <p>如果说我们不希望List&lt;?&gt;是任何泛型L ist的父类，只希望它代表某一类泛型List的父类，可以使用类型通配符的上限。</p> <ul><li>类型通配符上限：<code>&lt;? extends 类型&gt;</code></li> <li>List&lt;? extends Number&gt;：它表示的类型是Number或者其他子类</li></ul> <p>除了可以指定类型通配符的上限，我们也可以指定类型通配符的下限</p> <ul><li>类型通配符下限：&lt;? super 类型&gt;</li> <li>LIst&lt;? super Number&gt;：它表示的类型是Number或者其父类。</li></ul> <h2 id="可变参数"><a href="#可变参数" class="header-anchor">#</a> 可变参数</h2> <p>**概述：**可变参数又称参数个数可变，用作方法的形参出现，那么方法参数个数就是可变的了。</p> <ul><li>格式：修饰符  返回值类型  方法名(数据类型 ...变量名)</li> <li>范例：public int sum(int...a)</li> <li>范例：public int sum(int a,int...b)
<ul><li>形参里面的内容就是一个数组</li></ul></li></ul> <h1 id="十一-file"><a href="#十一-file" class="header-anchor">#</a> 十一.File</h1> <p>**概述：**File是文件和目录路径名的抽象表示。</p> <ul><li>文件和目录是可以通过File封装成对象的</li> <li>对于File而言，其封装的并不是一个真正存在的文件，仅仅是一个路径名而已。它可以是存在的，也可以是不存在的。将来是要通过具体的操作把这个路径的内容转换为具体存在的。</li></ul> <h2 id="构造方法-2"><a href="#构造方法-2" class="header-anchor">#</a> <strong>构造方法</strong></h2> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>File(File parent, String child)</td> <td>从父抽象路径名和子路径名字符串创建新的 File实例。</td></tr> <tr><td>File(String pathname)</td> <td>通过将给定的路径名字符串转换为抽象路径名来创建新的 File实例。</td></tr> <tr><td>File(String parent, String child)</td> <td>从父路径名字符串和子路径名字符串创建新的 File实例。</td></tr> <tr><td>File(URI uri)</td> <td>通过将给定的 file: URI转换为抽象路径名来创建新的 File实例。</td></tr></tbody></table> <h2 id="file类的创建功能"><a href="#file类的创建功能" class="header-anchor">#</a> <strong>File类的创建功能</strong></h2> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>boolean createNewFile()</td> <td>当且仅当具有此名称的文件尚不存在时以创建由此抽象路径名命名的新空文件。</td></tr> <tr><td>boolean mkdir()</td> <td>创建此抽象路径名指定的目录。</td></tr> <tr><td>boolean mkdirs()</td> <td>创建此抽象路径名指定的目录，包括任何必需但不存在的父目录。</td></tr></tbody></table> <h2 id="file类判断和获取功能"><a href="#file类判断和获取功能" class="header-anchor">#</a> <strong>File类判断和获取功能</strong></h2> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>public boolean isDirectory()</td> <td>测试此抽象路径名表示的File是否为目录</td></tr> <tr><td>public boolean isFile()</td> <td>测试此抽象路径名表示的File是否为文件</td></tr> <tr><td>public boolean exists()</td> <td>测试此抽象路径名表示的File是否存在</td></tr> <tr><td>public String getAbsolutePath()</td> <td>返回此抽象路径名的绝对路径名字符串</td></tr> <tr><td>public String getPath()</td> <td>将此抽象路径名转换为路径名字符串</td></tr> <tr><td>public String getName()</td> <td>返回由此抽象路径名表示的文件或目录的名称</td></tr> <tr><td>public String[] list()</td> <td>返回此抽象路径名表示的目录中的文件和目录的名称字符串数组</td></tr> <tr><td>public File[] listFiles()</td> <td>返回此抽象路径名表示的目录中的文件和目录的File对象数组</td></tr></tbody></table> <h2 id="file类删除功能"><a href="#file类删除功能" class="header-anchor">#</a> <strong>File类删除功能</strong></h2> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>public boolean delete()</td> <td>删除由此抽象路径表示的文件或目录</td></tr></tbody></table> <p>当删除的是目录时，目录非空时无法删除。</p> <h1 id="十二-io流"><a href="#十二-io流" class="header-anchor">#</a> 十二.IO流</h1> <p><strong>概述：</strong></p> <ul><li>IO:输入/输出(Input/Output)</li> <li>流：是一种抽象概念，是对数据传输的总称。也就是说数据在设备间的传输称为流，流的本质是数据传输。</li> <li>IO流就是用来处理设备间数据传输问题的
<ul><li>常见的应用、文件复制、文件上传、文件下载。</li></ul></li></ul> <p><img src="http://img.fancynet.cn/typora_img/image-20220714193301639.png" alt="image-20220714193301639"></p> <p><strong>IO流分类</strong></p> <ul><li>按照数据的流向
<ul><li>输入流：读数据</li> <li>输出流：写数据</li></ul></li> <li>按照数据类型来分
<ul><li>字节流
<ul><li>字节输入流、字节输出流</li></ul></li> <li>字符流
<ul><li>字符输入流、字符输出流</li></ul></li></ul></li></ul> <p>一般来说，我们说IO流的分类是按照<code>数据类型</code>来分的。</p> <p><strong>字节流、字符流应用场景</strong></p> <ul><li>像文本文档这种类型的文件我们用字符流，内容具体</li> <li>像图片这种类型的文件我们用字节流，内容抽象</li> <li>如果数据通过Window自带的记事本软件打开，我们还可以读懂里面的内容，就使用字符流,否则使用字节流。如果你不知道该使用哪种类型的流，就使用字节流</li></ul> <h2 id="字节流"><a href="#字节流" class="header-anchor">#</a> 字节流</h2> <p><strong>字节流写数据</strong></p> <table><thead><tr><th>Constructor</th> <th>描述</th></tr></thead> <tbody><tr><td>Fileoutputstream(File file)</td> <td>创建文件输出流以写入由指定的File对象表示的文件。</td></tr> <tr><td>Fileoutputstream (FileDescriptor fdobj)</td> <td>创建文件输出流以写入指定的文件描述符，表示与文件系统中实际文件的现有连接。</td></tr> <tr><td>Fileoutputstream (File file, boolean append)</td> <td>创建文件输出流以写入由指定的Eile对象表示的文件。</td></tr> <tr><td>FileoutputStream ( String name)</td> <td>创建文件输出流以指定的名称写入文件。</td></tr> <tr><td>FileOutputStream (String name, boolearappend)</td> <td>创建文件输出流以指定的名称写入文件。</td></tr></tbody></table> <p>字节流抽象基类</p> <ul><li><p>InputStream:这个抽象类是表示字节输入流的所有类的超类</p></li> <li><p>OutputStream:这个抽象类是表示字节输出流的所有类的超类</p></li> <li><p>子类名特点:子类名称都是以其父类名作为子类名的后缀</p></li></ul> <p>FileOutputStream:文件输出流用于将数据写入File。</p> <ul><li>FileOutputStream(String name):创建文件输出流以指定的名称写入文件</li></ul> <p>使用字节输出流写数据的步骤:</p> <ul><li>创建字节输出流对象(调用系统功能创建了文件，创建字节输出流对象，让字节输出流对象指向文件)</li> <li>调用字节输出流对象的写数据方法</li> <li>释放资源：close()</li></ul> <p><strong>字节流写数据的三种方式</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>void write(int b)</td> <td>将指定的字节写入此文件输出流一次写一个字节数据</td></tr> <tr><td>void write(byte[] b)</td> <td>将b.length字节从指定的字节数组写入此文件输出流一次写一个字节数组数据</td></tr> <tr><td>void write(byte[] b,int off,int len)</td> <td>将len字节从指定的字节数组开始，从偏移量off开始写入此文件输出流一次写一个字节数组的部分数据</td></tr></tbody></table> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">OutputStream</span> stream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;io.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token string">&quot;哈拉少,zbc我的歌&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
stream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>写入换行</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// windows: \r\n</span>
<span class="token comment">// linux: \n</span>
<span class="token comment">// mac: \r</span>
stream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;\r\n&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>追加写入</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// append: true</span>
<span class="token class-name">OutputStream</span> stream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;io.txt&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
</code></pre></div><p><strong>字节流读数据（一次读一个字节数据）</strong></p> <p>FilelnputStream:从文件系统中的文件获取输入字节</p> <ul><li>FileInputStream(String name):通过打开与实际文件的连接来创建一个FilelnputStream，该文件由文件系统中的路径名name命名</li></ul> <p>使用字节输入流读数据的步骤:</p> <ol><li>创建字节输入流对象</li> <li>调用字节输入流对象的读数据方法</li> <li>释放资源</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">InputStream</span> stream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;io.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> i<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

stream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>字节流复制文件</strong></p> <ul><li>复制文本文件，其实就把文本文件的内容从一个文件中读取出来(<code>数据源</code>)，然后写入到另一个文件中(<code>目的地</code>)</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> imgBytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token class-name">FileInputStream</span> fs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;bizhi.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;zz.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> i<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>imgBytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>imgBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
fs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>代码意义：创建一个缓冲区imgBytes，循环将读出来的数据放入缓冲区内，再将缓冲区的数据写入到对应文件内。此方法适用任何文件。</p> <p><strong>字节流读数据（一次读一个字节数组数据）</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;io.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> len<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;s = &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="字节缓冲流"><a href="#字节缓冲流" class="header-anchor">#</a> 字节缓冲流</h2> <p><strong>字节缓冲流</strong></p> <ul><li><p>BufferOutputStream:该类实现缓冲输出流。通过设置这样的输出流，应用程序可以向底层输出流写入字节，而不必为写入的每个字节导致底层系统的调用。</p></li> <li><p>BufferedInputStream:创建BufferedInputstream将创建一个内部缓冲区数组。当从流中读取或跳过字节时，内部缓冲区将根据需要从所包含的输入流中重新填充，一次很多字节。</p></li></ul> <p><strong>构造方法</strong></p> <ul><li>字节缓冲输出流:BufferedOutputStream(OutputStream out)</li> <li>字节缓冲输入流:BufferedInputStream(InputStream in)</li></ul> <p>为什么构造方法需要的是字节流，而不是具体的文件或者路径呢?</p> <p>字节缓冲流仅仅提供缓冲区，而真正的读写数据还得依靠基本的字节流对象进行操作。</p> <p><strong>写数据</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FileOutputStream</span> fileOutStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;io.txt&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BufferedOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span>fileOutStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//写数据</span>
<span class="token class-name">String</span> text <span class="token operator">=</span> <span class="token string">&quot;hello\r\n&quot;</span><span class="token punctuation">;</span>
bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>读数据</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;io.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span>fis<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        一次读取一个字节</span>
<span class="token comment">//        int by;</span>
<span class="token comment">//        while ((by = bis.read()) != -1) {</span>
<span class="token comment">//            System.out.print((char) by);</span>
<span class="token comment">//        }</span>

<span class="token comment">//        一次读取一个字节数组数据</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bys <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> len<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bys<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bys<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>拓展</strong></p> <p>字节流如何处理中文乱码？</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;io.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> len<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">,</span><span class="token string">&quot;gbk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//在String里指定编码格式即可</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;s = &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>A：在String里指定编码格式即可</p> <h2 id="字符流"><a href="#字符流" class="header-anchor">#</a> 字符流</h2> <ul><li>字符流 = 字节流 + 编码表</li></ul> <p><strong>编码表</strong></p> <p>基础知识</p> <ul><li>计算机中储存的信息都是用二进制数表示的;我们在屏幕上看到的英文、汉字等字符是二进制数转换之后的结果。</li> <li>按照某种规则，将字符存储到计算机中，称为编码。反之，将存储在计算机中的二进制数按照某种规则解析显示出来，称为解码。这里强调一下：按照A编码存储，必须按照A编码解析，这样才能显示正确的文本符号。否则就会导致乱码现象。</li></ul> <p>字符编码:就是一套自然语言的字符与二进制数之间的对应规则(A,65)</p> <p>字符集</p> <ul><li>是一个系统支持的所有字符的集合，包括各国家文字、标点符号、图形符号、数字等。</li> <li>计算机要准确的存储和识别各种字符集符号，就需要进行字符编码，一套字符集必然至少有一套字符编码。常见字符集有ASCII字符集、GBxxx学符集、Unicode字符集等。</li></ul> <p><strong>编码</strong></p> <ul><li><p>byte[] getBytes():使用平台的默认字符集将该String编码为一系列字节，将结果存储到新的字节数组中</p></li> <li><p>byte[] getBytes(String charsetName):使用指定的字符集将该String编码为一系列字节，将结果存储到新的字节数组中。</p></li></ul> <p><strong>解码</strong></p> <ul><li>String(byte[] bytes):通过使用平台的默认字符集解码指定的字节数组来构造新的String。</li> <li>String(byte[] bytes, String charsetName):通过指定的字符集解码指定的字节数组来构造新的String。</li></ul> <p><strong>字符流抽象基类</strong></p> <ul><li>Reader：字符输入流的抽象类</li> <li>Writer：字符输出流的抽象类</li></ul> <p><strong>字符流中编码解码问题相关的两个类</strong></p> <ul><li>InputStreamReader</li> <li>OutputStreamWriter</li></ul> <p><strong>字符流写数据</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;io.txt&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">OutputStreamWriter</span> osw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span>fos<span class="token punctuation">)</span><span class="token punctuation">;</span>
osw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;\r\n\t我的歌&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
osw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>字符流读数据</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FileInputStream</span> fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;io.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>fileInputStream<span class="token punctuation">,</span> <span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> len<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
reader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fileInputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>文件字符流</strong></p> <ul><li>FileReader (extends InputStreamReader)</li> <li>FileWriter (extends OutputStreamWriter)</li></ul> <p>转换流的名字比较长，而我们常见的操作都是按照本地默认编码实现的，所以，为了简化书写，转换流提供了对应的子类。</p> <ul><li>FileReader：用于读取字符文件的便捷类
<ul><li>FileReader(String fileName)</li></ul></li> <li>FileWriter：用于写入字符文件的便捷类
<ul><li>FileWriter(String fileName)</li></ul></li> <li>数据源和目的地的分析
<ul><li>数据源: myCharStreaml|ConversionStreamDemo.java---读数据---Reader --- nputStreamReader---FileReader目的地: myCharStreaml\Copy.java ---写数据---Writer --- OutputStreamWriter ---FileWriter</li></ul></li></ul> <p><strong>字符缓冲流</strong></p> <ul><li><p>BufferedWriter：将文本写入字符输出流，缓冲字符，以提供单个字符，数组和字符串的高效写入，可以指定缓冲区大小，或者可以接受默认大小。默认值足够大，可用于大多数用途</p></li> <li><p>BufferedReader：从字符输入流读取文本，缓冲字符，以提供字符，数组和行的高效读取，可以指定缓冲区大小，或者可以使用默认大小。默认值足够大，可用于大多数用途</p></li></ul> <p><strong>字符缓冲流特有功能</strong></p> <p>BufferedWriter：</p> <ul><li>void newLine():写一行行分隔符，行分隔符字符串由系统属性定义</li></ul> <p>BufferedReader：</p> <ul><li>public String readLine():读一行文字。结果包含行的内容的字符串，不包括任何行终止字符，如果流的结尾已经到达，则为null</li></ul> <div class="language- extra-class"><pre class="language-text"><code>node([集合])--&gt;n1[Collection 单列];
	n1[Collection 单列]--&gt;n1.2[List 可重复];
		n1.2[List 可重复]--&gt;n1.2.1[ArrayList]:::fillStyle
		n1.2[List 可重复]--&gt;n1.2.2[LinkedList]:::fillStyle
	n1[Collection 单列]--&gt;n1.3[Set 不可重复];
		n1.3[Set 不可重复]--&gt;n1.3.1[HashSet]:::fillStyle
		n1.3[Set 不可重复]--&gt;n1.3.2[TreeSet]:::fillStyle
node([集合])--&gt;n2[Map 双列];
	n2[Map 双列]--&gt;2.1[HashMap]:::fillStyle
</code></pre></div><p><strong>IO流小结</strong></p> <ul><li>字节流</li></ul> <div class="language-mermaid extra-class"><pre class="language-mermaid"><code><span class="token keyword">graph</span> TD<span class="token punctuation">;</span>
<span class="token keyword">classDef</span> fillStyle <span class="token style"><span class="token property">fill</span><span class="token operator">:</span>#f96</span><span class="token punctuation">;</span>
n1<span class="token text string">([字节流])</span><span class="token punctuation">;</span>
n1<span class="token text string">([字节流])</span><span class="token arrow operator">--&gt;</span>n1.1<span class="token text string">[字节输入流 InputStream]</span><span class="token punctuation">;</span>
n1.1<span class="token text string">[字节输入流 InputStream]</span><span class="token arrow operator">--&gt;</span>n1.1.1<span class="token text string">[FileInputStream]</span><span class="token operator">:::</span>fillStyle<span class="token punctuation">;</span>
n1.1.1<span class="token text string">[FileInputStream]</span><span class="token operator">:::</span>fillStyle<span class="token arrow operator">--&gt;</span>n1.1.1.1<span class="token text string">[BufferedInputStream 字节缓冲输入流]</span><span class="token operator">:::</span>fillStyle<span class="token punctuation">;</span><span class="token punctuation">;</span>
n1<span class="token text string">([字节流])</span><span class="token arrow operator">--&gt;</span>n1.2<span class="token text string">[字节输出流 OutputStream]</span><span class="token punctuation">;</span>
n1.2<span class="token text string">[字节输出流 OutputStream]</span><span class="token arrow operator">--&gt;</span>n1.2.1<span class="token text string">[FileOutputStream]</span><span class="token operator">:::</span>fillStyle<span class="token punctuation">;</span>
n1.2.1<span class="token text string">[FileOutputStream]</span><span class="token operator">:::</span>fillStyle<span class="token arrow operator">--&gt;</span>n1.2.1.1<span class="token text string">[BufferedOutputStream 字节缓冲输出流]</span><span class="token operator">:::</span>fillStyle<span class="token punctuation">;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>字符流</li></ul> <div class="language-mermaid extra-class"><pre class="language-mermaid"><code><span class="token keyword">graph</span> TD<span class="token punctuation">;</span>
<span class="token keyword">classDef</span> fillStyle <span class="token style"><span class="token property">fill</span><span class="token operator">:</span>#f96</span><span class="token punctuation">;</span>
n1<span class="token text string">([字符流])</span><span class="token punctuation">;</span>
n1<span class="token text string">([字符流])</span><span class="token arrow operator">--&gt;</span>n1.1<span class="token text string">[字符输出流 Writer]</span><span class="token punctuation">;</span>
n1<span class="token text string">([字符流])</span><span class="token arrow operator">--&gt;</span>n1.2<span class="token text string">[字符输入流 Reader]</span><span class="token punctuation">;</span>

n1.1<span class="token text string">[字符输出流 Writer]</span><span class="token arrow operator">--&gt;</span>n1.1.1<span class="token text string">[OutputStreamReader]</span><span class="token operator">:::</span>fillStyle<span class="token punctuation">;</span>
n1.1<span class="token text string">[字符输出流 Writer]</span><span class="token arrow operator">--&gt;</span>n1.1.2<span class="token text string">[字符缓冲输出流 BufferedWriter]</span><span class="token operator">:::</span>fillStyle<span class="token punctuation">;</span>

n1.2<span class="token text string">[字符输入流 Reader]</span><span class="token arrow operator">--&gt;</span>n1.2.1<span class="token text string">[OutputStreamWriter]</span><span class="token operator">:::</span>fillStyle<span class="token punctuation">;</span>
n1.2<span class="token text string">[字符输入流 Reader]</span><span class="token arrow operator">--&gt;</span>n1.2.2<span class="token text string">[字符缓冲输入流 BufferedReader]</span><span class="token operator">:::</span>fillStyle<span class="token punctuation">;</span>

n1.1.1<span class="token text string">[OutputStreamReader]</span><span class="token arrow operator">--&gt;</span>n1.1.1.1<span class="token text string">[FileWriter]</span><span class="token operator">:::</span>fillStyle<span class="token punctuation">;</span>
n1.2.1<span class="token text string">[InputStreamReader]</span><span class="token arrow operator">--&gt;</span>n1.1.2.1<span class="token text string">[FileReader]</span><span class="token operator">:::</span>fillStyle<span class="token punctuation">;</span>

</code></pre></div><h2 id="读写异常处理"><a href="#读写异常处理" class="header-anchor">#</a> 读写异常处理</h2> <ul><li>JDK7改进的方案</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">FileReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;io.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token class-name">FileWriter</span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;io2.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>JDK9改进的方案</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">FileReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;io.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">FileWriter</span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;io2.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">(</span>reader<span class="token punctuation">;</span>writer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>jdk9的改进方案没有jdk7那么优雅，推荐使用jdk7的改进方案。</p></blockquote> <h2 id="标准io流"><a href="#标准io流" class="header-anchor">#</a> 标准IO流</h2> <p>System类中有两个静态的成员变量</p> <ul><li><p>public static final lnputStream in:标准输入流。通常该流对应于键盘输入或由主机环境或用户指定的另一个输入源。</p></li> <li><p>public static final PrintStream out:标准输出流。通常该流对应于显示输出或由主机环境或用户指定的另一个输出目标。</p></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="打印流"><a href="#打印流" class="header-anchor">#</a> 打印流</h2> <p>打印流分类</p> <ul><li>字节打印流：PrintStrem</li> <li>字符打印流：PrintWriter</li></ul> <p>打印流的特点</p> <ul><li><p>只负责输出数据，不负责读取数据。</p></li> <li><p>有自己的特有方法</p></li></ul> <p>字节打印流</p> <ul><li>Printstream(String fileName):使用指定的文件名创建新的打印流</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">PrintStream</span> printStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintStream</span><span class="token punctuation">(</span><span class="token string">&quot;io2.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printStream<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;哈拉少&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token number">97</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>字符打印流</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span><span class="token string">&quot;io.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pw<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;非常的哈拉少&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="对象序列化"><a href="#对象序列化" class="header-anchor">#</a> 对象序列化</h2> <p>对象序列化：就是将对象保存到磁盘中，或者在网络中传输对象。</p> <p>这种机制就是使用一个字节序列表示一个对象，该字节序列包含：对象的类型、对象的数据和对象中存储的属性等信息字节序列写到文件之后，相当于文件中持久保存了一个对象的信息。</p> <p>反之，该字节序列还可以从文件中读取回来，重构对象，对它进行反序列化。</p> <p>要实现序列化和反序列化就要使用对象序列化流和对象反序列化流：</p> <ul><li>对象序列化流：ObjectOutputStream</li> <li>对象反序列化流：ObjectInputStream</li></ul> <p>​</p> <h2 id="properties作为map集合使用"><a href="#properties作为map集合使用" class="header-anchor">#</a> Properties作为Map集合使用</h2> <p>Properties概述：</p> <ul><li>是一个Map体系的集合类</li> <li>Properties可以保存到流中或从流中加载</li></ul> <p>练习: Properties作为Map集合的使用</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Properties</span> prop <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
prop<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jdbc:mysql://127.0.0.1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
prop<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
prop<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

prop<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Properties集合特有的方法</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>Object setProperty(String key,String value)</td> <td>设置集合的键和值，都是String类型，底层调用HashTable方法put</td></tr> <tr><td>String getProperty(String key)</td> <td>使用此属性列表中指定的键搜索属性</td></tr> <tr><td>Set<String> stringPropertyNames()</String></td> <td>从该属性列表中返回一个不可修改的的键集，其中键对应的值都是字符串</td></tr></tbody></table> <p><strong>Properties和IO流结合的方法</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>void load(InputStream inStream)</td> <td>从输入字节流读取属性列表(键和元素对)</td></tr> <tr><td>void load(Reader reader)</td> <td>从输入字符流读取属性列表(键和元素对)</td></tr> <tr><td>void store(OutputStream out,String comments)</td> <td>将此属性列表(键和元素对)写入此Properties表中，以适合于使用load(InputStream)方法的格式写入输出字节流，comments是描述信息。</td></tr> <tr><td>void store(Writer writer,String comments)</td> <td>将此属性列表(键和元素对)写入此Properties表中，以适合使用load(Reader)方法的格式写入输出字符流，comments是描述信息。</td></tr></tbody></table> <h1 id="十三-网络编程"><a href="#十三-网络编程" class="header-anchor">#</a> 十三.网络编程</h1> <h2 id="网络编程"><a href="#网络编程" class="header-anchor">#</a> <strong>网络编程</strong></h2> <ul><li>在网络通信协议下，实现网络互连的不同计算机上运行的程序间可以进行数据交换</li></ul> <p>Http协议原理Http基本概念</p> <ul><li>基于HTTP传输协议（超文本传输协议）客户端与服务器端之间数据传输规则。</li></ul> <h2 id="http特点"><a href="#http特点" class="header-anchor">#</a> HTTP特点:</h2> <ol><li>底层基于TCP协议实现,面向连接方式安全</li> <li>基于请求(request)与响应(response)模型</li> <li>Http协议是无状态协议，对于事务处理是没有任何记忆功能</li> <li>Http协议多次请求无法共享，在javaweb开发中我们可以通过cookie、session解决该问题</li> <li>http协议数据传输过程中属于同步的过程;如果客户端发送请求达到服务器端，服务器端已经不响应可能会导致客户端会一直阻塞等待对于用户体验是不好的所以客户端发送请求达到服务器时会设置超时时间例如5s。</li></ol> <h2 id="网络编程三要素"><a href="#网络编程三要素" class="header-anchor">#</a> <strong>网络编程三要素</strong></h2> <p><strong>IP地址</strong></p> <ul><li>要想让网络中的计算机能够互相通信，必须为每台计算机指定一个标识号，通过这个标识号来指定要接收数据的计算机和识别发送的计算机，而IP地址就是这个标识号。也就是设备的标识。</li></ul> <p><strong>端口</strong></p> <ul><li>网络的通信，本质上是两个应用程序的通信。每台计算机都有很多的应用程序，那么在网络通信时如何区分这些应用程序呢?如果说IP地址可以唯一标识网络中的设备，那么端口号就可以唯一标识设备中的应用程序了。也就是应用程序的标识。
<ul><li>端口：设备上应用程序的唯一标识。</li> <li>端口号：用两个字节表示的整数，它的取值范围是0~65535。其中，O~1023之间的端口号用于一些知名的网络服务和应用，普通的应用程序需要使用1024以上的端口号。如果端口号被另外一个服务或应用所占用会导致当前程序启动失败。</li></ul></li></ul> <p><strong>协议</strong></p> <ul><li>通过计算机网络可以使多台计算机实现连接，位于同一个网络中的计算机在进行连接和通信时需要遵守一定的规则，这就好比在道路中行驶的汽车一定要遵守交通规则一样。在计算机网络中，这些连接和通被称为网络通信协议，它对数据的传输格式、传输速率、传输步骤等做了统一规定，通信双方必须同时遵守才能完成数据交换。常见的协议有UDP协议和TCP协议。</li> <li><strong>UDP协议</strong> <ul><li>用户数据报协议(User Datagram Protocol)</li> <li>UDP是无连接通信协议，即在数据传输时，数据的发送端和接收端不建立逻辑链接。简单来说，当一台算机向另外一台计算机发送数据时，发送端不会确认接收端是否存在，就会发出数据，同样接收端在收到数据时，也不会向发送端反馈是否收到数据。</li> <li>由于使用UDP协议消耗资源小，通信效率高，所以通常都会用于音频、视频和普通数据的传输。</li> <li>例如视频会议通常采用UDP协议，因为这种情况即使偶尔丢失一两个数据包，也不会对接收结果产生太大影响。但是在使用UDP协议传送数据时，由于UDP的面向无连接性，不能保证数据的完整性，因此在传输重要数据时不建议使用UDP协议。</li></ul></li> <li><strong>TCP协议</strong> <ul><li>传输控制协议(Transmission Control Protocol)。</li> <li>TCP协议是面向连接的通信协议，即传输数据之前，在发送端和接收端建立逻辑连接，然后再传输数据,它提供了两台计算机之间可靠无差错的数据传输。在TCP连接中必须要明确客户端与服务器端，由客户端向服务端发出连接请求，每次连接的创建都需要经过“三次握手”。</li> <li>三次握手：TCP协议中，在发送数据的准备阶段，客户端与服务器之间的三次交互，以保证连接的可靠。
<ul><li>第一次握手，客户端向服务器端发出连接请求，等待服务器确认。</li> <li>第二次握手，服务器端向客户端回送一个响应，通知客户端收到了连接请求。</li> <li>第三次握手，客户端再次向服务器端发送确认信息，确认连接。</li></ul></li> <li>完成三次握手，连接建立后，客户端和服务器就可以开始进行数据传输了。由于这种面向连接的特性，TCP协议可以保证传输数据的安全，所以应用十分广泛。例如上传文件、下载文件、浏览网页等。</li></ul></li></ul> <h2 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> <strong>常用命令</strong></h2> <ul><li>ipconfig：查看本机IP地址。</li> <li>ping IP地址：检查网络是否连通。</li></ul> <p>特殊lP地址：127.0.0.1:是回送地址，可以代表本机地址，一般用来测试使用</p> <h2 id="inetaddress的使用"><a href="#inetaddress的使用" class="header-anchor">#</a> <strong>InetAddress的使用</strong></h2> <p>为了方便我们对IP地址的获取和操作，Java提供了一个类InetAddress供我们使用InetAddress:此类表示Internet协议(IP）地址。</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>static InetAddress getByName(String host)</td> <td>确定主机名称的IP地址。主机名称可以是机器名称，也可以是IP地址。</td></tr> <tr><td>String getHostName()</td> <td>获取此IP地址的主机名</td></tr> <tr><td>String getHostAddress()</td> <td>返回文本显示中的IP地址字符串</td></tr></tbody></table> <h2 id="udp通信原理"><a href="#udp通信原理" class="header-anchor">#</a> UDP通信原理</h2> <p>UDP协议是一种不可靠的网络协议，它在通信的两端各建立一个Socket对象，但是这两个Socket只是发送，接收数据的对象因此对于基于UDP协议的通信双方而言，没有所谓的客户端和服务器的概念。</p> <p>Java提供了DatagramSocket类作为基于UDP协议的Socket。</p> <h3 id="udp发送数据步骤"><a href="#udp发送数据步骤" class="header-anchor">#</a> <strong>UDP发送数据步骤</strong></h3> <ol><li>创建发送端的Socket对象(DatagramSocket)</li> <li>创建数据，并把数据打包</li> <li>调用DatagramSocket对象的方法发送数据</li> <li>关闭发送端</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//创建发送端的Socket对象</span>
<span class="token class-name">DatagramSocket</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//封装数据</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token string">&quot;hello呀&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> len <span class="token operator">=</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token class-name">InetAddress</span> inetAddress <span class="token operator">=</span> <span class="token class-name">InetAddress</span><span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> port <span class="token operator">=</span> <span class="token number">1025</span><span class="token punctuation">;</span>
<span class="token class-name">DatagramPacket</span> packet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramPacket</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span>len<span class="token punctuation">,</span>inetAddress<span class="token punctuation">,</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//发送数据</span>
ds<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>packet<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//关闭</span>
ds<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="udp接收数据步骤"><a href="#udp接收数据步骤" class="header-anchor">#</a> <strong>UDP接收数据步骤</strong></h3> <ol><li>创建接收端的Socket对象(DatagramSocket)</li> <li>创建一个数据包，用于接收数据</li> <li>调用DatagramSocket对象的方法接收数据解析数据包，并把数据在控制台显示</li> <li>关闭接收端</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//创建接收端的Socket对象(DatagramSocket)</span>
<span class="token class-name">DatagramSocket</span> socket <span class="token operator">=</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramSocket</span><span class="token punctuation">(</span><span class="token number">1025</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//创建一个数据包，用于接收数据</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">DatagramPacket</span> packet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramPacket</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> bytes<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
socket<span class="token punctuation">.</span><span class="token function">receive</span><span class="token punctuation">(</span>packet<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//调用DatagramSocket对象的方法接收数据解析数据包，并把数据在控制台显示</span>
<span class="token keyword">int</span> len <span class="token operator">=</span> packet<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> packet<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> dataStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;data = &quot;</span> <span class="token operator">+</span> dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//关闭接收端</span>
socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="tcp通信原理"><a href="#tcp通信原理" class="header-anchor">#</a> TCP通信原理</h2> <p>TCP通信协议是一种可靠的网络协议，它在通信的两端各建立一个Socket对象，从而在通信的两端形成网络虚拟链路,一旦建立了虚拟的网络链路，两端的程序就可以通过虚拟链路进行通信。</p> <p><img src="http://img.fancynet.cn/typora_img/image-20220717193702255.png" alt="image-20220717193702255"></p> <p>Java对基于TCP协议的的网络提供了良好的封装，使用Socket对象来代表两端的通信端口，并通过Socket产生IO流来进行网络通信Java为客户端提供了<code>Socket</code>类，为服务器端提供了<code>ServerSocket</code>类。</p> <h3 id="tcp发送数据"><a href="#tcp发送数据" class="header-anchor">#</a> TCP发送数据</h3> <p><strong>步骤</strong></p> <ol><li>创建客户端的Socket对象(Socket)</li> <li>获取输出流，写数据</li> <li>释放资源</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//创建客户端的Socket对象(Socket)</span>
<span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">1025</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//获取输出流</span>
<span class="token class-name">OutputStream</span> os <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//写数据</span>
os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;我来了&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//释放资源</span>
socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>输出结束标记：void shutDownOutPut();</p></blockquote> <h3 id="tcp接收数据"><a href="#tcp接收数据" class="header-anchor">#</a> TCP接收数据</h3> <p><strong>步骤</strong></p> <ol><li>创建服务器端的Socket对象(ServerSocket)</li> <li>监听客户端链接，返回一个Socket对象</li> <li>获取输入流，读数据，并把数据显示在控制台</li> <li>释放资源</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//创建服务器端的Socket对象(ServerSocket)</span>
<span class="token class-name">ServerSocket</span> serverSocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">1025</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//监听客户端链接，返回一个Socket对象</span>
<span class="token class-name">Socket</span> socket <span class="token operator">=</span> serverSocket<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//获取输入流，读数据</span>
<span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> len <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> text <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;服务器：&quot;</span> <span class="token operator">+</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//释放资源 </span>
serverSocket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="十四-接口组成更新"><a href="#十四-接口组成更新" class="header-anchor">#</a> 十四.接口组成更新</h1> <p><strong>接口的组成</strong></p> <ul><li>常量
<ul><li>public static final</li></ul></li> <li>抽象方法
<ul><li>public abstract</li></ul></li> <li>默认方法（Java8）</li> <li>静态方法（Java8）</li> <li>私有方法（Java9）</li></ul> <h2 id="接口中默认方法"><a href="#接口中默认方法" class="header-anchor">#</a> 接口中默认方法</h2> <p><strong>接口中默认方法的定义格式：</strong></p> <ul><li><p>格式：public default  返回值类型  方法名(参数列表){}</p></li> <li><p>范例: public default void show30 { }</p></li></ul> <p><strong>接口中默认方法的注意事项</strong>：</p> <ul><li>默认方法不是抽象方法，所以不强制被重写。</li> <li>但是可以被重写，重写的时候去掉default关键字</li> <li>public可以省略,default不能省略</li></ul> <h2 id="接口中的静态方法"><a href="#接口中的静态方法" class="header-anchor">#</a> <strong>接口中的静态方法</strong></h2> <p>接口中静态方法的定义格式：</p> <ul><li>格式：public static  返回值类型  方法名(参数列表){ }</li></ul> <p>接口中静态方法的注意事项:</p> <ul><li>静态方法只能通过接口名调用，不能通过实现类名或者对象名调用</li> <li>public可以省略,static不能省略</li></ul> <h2 id="接口中私有方法"><a href="#接口中私有方法" class="header-anchor">#</a> 接口中私有方法</h2> <p>Java 9中新增了带方法体的私有方法，这其实在Java8中就埋下了伏笔: Java8允许在接口中定义带方法体的默认方法和静态方法。这样可能就会引发一个问题:当两个默认方法或者静态方法中包含一段相同的代码实现时程序必然考虑将这段实现代码抽取成一个共性方法，而这个共性方法是不需要让别人使用的，因此用私有给隐藏起来这就是Java 9增加私有方法的必然性。</p> <p><strong>接口私有方法定义格式：</strong></p> <ul><li>格式1: private  返回值类型  方法名(参数列表){ }</li> <li>范例1: private void show(){ }</li> <li>格式2: private static  返回值类型  方法名(参数列表){ }</li> <li>范例2: private static void method(){ }</li></ul> <h1 id="十五-stream流"><a href="#十五-stream流" class="header-anchor">#</a> 十五.Stream流</h1> <h2 id="stream流的生成"><a href="#stream流的生成" class="header-anchor">#</a> Stream流的生成</h2> <p><strong>Stream流的使用</strong></p> <ul><li>生成流
<ul><li>通过数据源（集合，数组）等生成流</li> <li>list.stream()</li></ul></li> <li>中间操作
<ul><li>一个流后面可以跟随零个或多个中间操作，其目的主要是打开流，做出某种程度的数据过滤/映射，然后返回一个新的流,交给下一个操作使用。</li> <li>filter()</li></ul></li> <li>终结操作
<ul><li>一个流只能有一个终结操作，当这个操作执行后，流就被使用“光”了，无法再被操作。所以这必定是流的最后一个操作forEach()。</li></ul></li></ul> <h2 id="生成流的方式"><a href="#生成流的方式" class="header-anchor">#</a> 生成流的方式</h2> <p><strong>Stream流的常见生成方式</strong></p> <ul><li><p>Collection体系的集合可以使用默认方法stream)生成流</p> <ul><li>default Stream<E> stream()</E></li></ul></li> <li><p>Map体系的集合间接的生成流</p> <ul><li>map.values().stream()</li></ul></li> <li><p>数组可以通过Stream接口的静态方法of(T... values)生成流。</p> <ul><li>Stream.of(arr)</li></ul></li></ul> <h2 id="中间操作方法"><a href="#中间操作方法" class="header-anchor">#</a> 中间操作方法</h2> <p><strong>Stream流常用方法</strong></p> <ul><li><p>Stream<T> filter(Predicate predicate):用于对流中的数据进行过滤。</T></p> <p>Predicate接口中的方法：</p> <p>​		boolean test(T t)：对给定的参数进行判断，返回一个布尔值。</p></li> <li><p>Stream<T> limit(long maxSize)：返回此流中的元素组成的流，截取前指定参数个数的数据。</T></p></li> <li><p>Stream<T> skip(long n)：跳过指定参数个数的数据，返回由该流的剩余元素组成的流。</T></p></li> <li><p>static <T> Stream<T> concat(Stream a, Stream b)：合并a和b两个流为一个流。</T></T></p></li> <li><p>Stream<T> distinct()：返回由该流的不同元素（根据Objectequals(Object)）组成的流。</T></p></li> <li><p>Stream<T> sorted):返回由此流的元素组成的流，根据自然顺序排序。</T></p></li> <li><p>Stream<T> sorted(Comparator comparator):返回由该流的元素组成的流，根据提供的Comparator进行排序。</T></p></li> <li><R> Stream<R> map(Function mapper):返回由给定函数应用于此流的元素的结果组成的流。
<p>Function接口中的方法：R apply(Tt)</p></R></R></li> <li><p>IntStream mapToInt(ToIntFunction mapper)：返回一个ntStream其中包含将给定函数应用于此流的元素的结果。IntStream：表示原始int流。
TolntFunction接口中的方法：int applyAsInt(T value)</p></li> <li><p>void forEach(Consumer action):对此流的每个元素执行操作Consumer接口中的方法
void accept(T t)：对给定的参数执行此操作</p></li> <li><p>long count()：返回此流中的元素数个</p></li></ul> <h2 id="stream流的收集操作"><a href="#stream流的收集操作" class="header-anchor">#</a> Stream流的收集操作</h2> <p><strong>Stream流的收集方法</strong></p> <ul><li>R collect(Collector collector)</li> <li>但是这个收集方法的参数是一个Collector接口</li></ul> <p>工具类Collectors提供了具体的收集方式</p> <ul><li><p>public static <T> Collector toList():把元素收集到List集合中</T></p></li> <li><p>public static <T> Collector toSet():把元素收集到Set集合中</T></p></li> <li><p>public static Collector toMap(Function keyMapper,Function  valueMapper):把元素收集到Map集合中</p></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> collect <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="十六-反射"><a href="#十六-反射" class="header-anchor">#</a> 十六.反射</h1> <h2 id="类加载器"><a href="#类加载器" class="header-anchor">#</a> 类加载器</h2> <p><strong>类加载</strong></p> <p>当程序要使用某个类时，如果该类还未被加载到内存中，则系统会通过类的加载，类的连接，类的初始化这三个步骤来对淡进行初始化。如果不出现意外情况，JVM将会连续完成故三个步骤，所以有时也把这三个步骤统称为类加载或者类初始化。</p> <p><strong>类的加载</strong></p> <ul><li><p>就是指将class文件读入内存，并为之创建一个java.lang.Class对象。</p></li> <li><p>任何类被使用时，系统都会为之建立一个java.lang.Class对象。</p></li></ul> <p><strong>类的连接</strong></p> <ul><li><p>验证阶段：用于检验被加载的类是否有正确的内部结构，并和其他类协调一致。</p></li> <li><p>准备阶段：负责为类的类变量分配内存，并设置默认初始化值。</p></li> <li><p>解析阶段：将类的二进制数据中的符号引用替换为直接引用。</p></li></ul> <p><strong>类的初始化</strong></p> <ul><li>在该阶段，主要就是对类变量进行初始化。</li></ul> <p><strong>类的初始化步骤</strong></p> <ul><li><p>假如类还未被加载和连接，则程序先加载并连接该类。</p></li> <li><p>假如该类的直接父类还未被初始化，则先初始化其直接父类。</p></li> <li><p>假如类中有初始化语句，则系统依次执行这些初始化语句。</p></li></ul> <blockquote><p>注意：在执行第2个步骤的时候，系统对直接父类的初始化步骤也遵循初始化步骤1-3</p></blockquote> <p><strong>类的初始化时机</strong></p> <ul><li><p>创建类的实例</p></li> <li><p>调用类的类方法</p></li> <li><p>访问类或者接口的类变量，或者为该类变量赋值</p></li> <li><p>使用反射方式来强制创建某个类或接口对应的java.lang.Class对象</p></li> <li><p>初始化某个类的子类</p></li> <li><p>直接使用java.exe命令来运行某个主类</p></li></ul> <p><strong>类加载器的作用</strong></p> <ul><li>负责将.class文件加载到内存中，并为之生成对应的java.lang.Class对象</li> <li>虽然我们不用过分关心类加载机制，但是了解这个机制我们就能更好的理解程序的运行</li></ul> <p><strong>JVM的类加载机制</strong></p> <ul><li><p>全盘负责：就是当一个类加载器负责加载某个Class时，该Class所依赖的和弓|用的其他Class也将由该类加载器负责载入，除非显示使用另外-个类载器来载入</p></li> <li><p>父类委托：就是当一个类加载器负责加载某个Class时，先让父类加载器试图加载该Class, 只有在父类加载器无法加载该类时才尝试从自己的类路径中加载该类</p></li> <li><p>缓存机制：保证所有加载过的Class都会被缓存，当程序需要使用某个Class对象时，类载器先从缓存区中搜索该Class,只有当缓存区中不存在该Class对象时，统才会读取该类对应的二进制数据，并將其转换成Class对象，存储到缓存区</p></li></ul> <p><strong><code>类加载器</code></strong></p> <p>ClassLoader：是负责加载类的对象</p> <p>Java运行时具有以下内置类加载器</p> <ul><li>Bootstrap class loader：它是虚拟机的内置类加载器，通常表示为null，并且没有父null。</li> <li>Platform class loader：平台类加载器可以看到所有平台类，平台类包括由平台类加载器或其祖先定义的Java SE平台API,其实现类和JDK特定的运行时类。</li> <li>System class loader：它也被称为应用程序类加载器，与平台类加载器不同。系统类加载器通常用于定义应用程序类路径，模块路径和JDK特定工具上的类。</li></ul> <h2 id="反射"><a href="#反射" class="header-anchor">#</a> 反射</h2> <p><strong>概述：</strong></p> <p>Java反射机制：是指在运行时去获取一个类的变量和方法信息。然后通过获取到的信息来创建对象，调用方法的一种机制。由于这种动态性，可以极大的增强程序的灵活性，程序不用在编译期就完成确定，在运行期仍然可以扩展。</p> <h2 id="反射获取class类对象-字节码对象"><a href="#反射获取class类对象-字节码对象" class="header-anchor">#</a> <strong>反射获取Class类对象（字节码对象）</strong></h2> <p>我们要想通过反射去使用一个类，首先我们要获取到该类的字节码文件对象，也就是类型为Class类型的对象。</p> <p>这里我们提供三种方式获取Class类型的对象</p> <ul><li>使用类的class属性来获取该类对应的Class对象。举例: Studentclass将会返回Student类对应的Class对象</li> <li>调用对象的getClass()方法，返回该对象所属类对应的Class对象该方法是Object类中的方法，所有的Java对象都可以调用该方法</li> <li>使用Class类中的静态方法forName(String className)，该方法需要传入字符串参数，该字符串参数的值是某个类的全路径，也就是完整包名的路径。</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ReflectDemo</span><span class="token punctuation">&gt;</span></span> c1 <span class="token operator">=</span> <span class="token class-name">ReflectDemo</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c1 = &quot;</span> <span class="token operator">+</span> c1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">ReflectDemo</span> rd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReflectDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">ReflectDemo</span><span class="token punctuation">&gt;</span></span> c2 <span class="token operator">=</span> rd<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c2 = &quot;</span> <span class="token operator">+</span> c2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> c3 <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.reflect.ReflectDemo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c3 = &quot;</span> <span class="token operator">+</span> c3<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//c1 == c2 == c3</span>
</code></pre></div><blockquote><p>我们可以通过字节码对象的newInstance()方法来实例一个该字节码对象。</p></blockquote> <h2 id="反射获取构造方法"><a href="#反射获取构造方法" class="header-anchor">#</a> 反射获取构造方法</h2> <p><strong>Class类中用于获取构造方法的方法</strong></p> <p>Constructor&lt;?&gt;[] getConstructors():返回所有公共构造方法对象的数组</p> <p>Constructor&lt;?&gt;[] getDeclaredConstructors():返回所有构造方法对象的数组</p> <p>Constructor<T> getConstructor(Class&lt;?&gt; ... parameterTypes):返回单个公共构造方法对象。</T></p> <p>Constructor<T> getDeclaredConstructor(Class&lt;?&gt;... parameterTypes):返回单个构造方法对象</T></p> <p><strong>Constructor类中用于创建对象的方法</strong></p> <p>T newlnstance(Object... initargs)：根据指定的构造方法创建对象。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//获取类字节码对象</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> aClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.reflect.Test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//获取字节码对象构造方法数组</span>
<span class="token class-name">Constructor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> cons  <span class="token operator">=</span> aClass<span class="token punctuation">.</span><span class="token function">getDeclaredConstructors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//遍历构造方法</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Constructor</span> con <span class="token operator">:</span> cons<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>con<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;---------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//根据参数类型获取字节码对象对应的构造方法</span>
<span class="token class-name">Constructor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> con <span class="token operator">=</span> aClass<span class="token punctuation">.</span><span class="token function">getConstructor</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//通过构造方法创建实例</span>
<span class="token class-name">Object</span> o <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>一般来说，无法通过私有的构造方法去实例化对象，但是在反射里就可以。通过调用构造方法的SetAccessible()方法。将flag设为true即可。</p> <p>public void setAccessible (boolean flag)</p> <p>将此反射对象的accessible标志设置为指示的布尔值。值为true表示反射对象应该在使用Java语言访问控制时抑制检查。值为false表示反射对象应该在使用Java语言访问控制时执行检查,并在类描述中指出变体。</p></blockquote> <h2 id="反射获取成员变量"><a href="#反射获取成员变量" class="header-anchor">#</a> 反射获取成员变量</h2> <p><strong>Class类中用于获取成员变量的方法</strong></p> <p>Field[]getFields()：返回所有公共成员变量对象的数组。</p> <p>Field[] getDeclaredFields()：返回所有成员变量对象的数组</p> <p>Field getField(String name)：返回单个公共成员变量对象</p> <p>Field getDeclaredField(String name)：返回单个成员变量对象</p> <p><strong>Field类中用于给成员变量赋值的方法</strong></p> <p>void set(Object obj, Object value)：给obj对象的成员变量赋值为value</p> <h2 id="反射获取成员方法"><a href="#反射获取成员方法" class="header-anchor">#</a> 反射获取成员方法</h2> <p><strong>Class类中用于获取成员方法的方法</strong></p> <p>Method[] getMethods()：返回所有公共成员方法对象的数组，包括继承的。</p> <p>Method[] getDeclaredMethods)：返回所有成员方法对象的数组，不包括继承的。</p> <p>Method getMethod(String name, Class&lt;?&gt;... parameterTypes)：返回单个公共成员方法对象Method 。</p> <p>Method getDeclaredMethod(String name, Class&lt;?&gt;... parameterTypes)：返回单个成员方法对象。</p> <p><strong>Method类中用于调用成员方法的方法</strong></p> <p>0bject invoke(Object obj, Object..args)：调用obj对象的成员方法，参数是args,返回值是Object类型。</p> <h2 id="反射越过集合泛型检查"><a href="#反射越过集合泛型检查" class="header-anchor">#</a> 反射越过集合泛型检查</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
array<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
array<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&gt;</span></span> arrayClass <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Method</span> add <span class="token operator">=</span> arrayClass<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;add&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
add<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="反射通过配置文件运行类方法"><a href="#反射通过配置文件运行类方法" class="header-anchor">#</a> 反射通过配置文件运行类方法</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//      创建Properties类加载对象</span>
        <span class="token class-name">Properties</span> prop <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">FileReader</span> fileReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;class.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        加载数据</span>
        prop<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>fileReader<span class="token punctuation">)</span><span class="token punctuation">;</span>
        fileReader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        根据键获取类名和方法名</span>
        <span class="token class-name">String</span> className <span class="token operator">=</span> prop<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;className&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> method <span class="token operator">=</span> prop<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;methodName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        拿到类名获取字节码对象</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> aClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        通过字节码对象构建类实例</span>
        <span class="token class-name">Object</span> o <span class="token operator">=</span> aClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        通过反射获取方法</span>
        <span class="token class-name">Method</span> study <span class="token operator">=</span> aClass<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        执行对应方法</span>
        study<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="十七-java模块化"><a href="#十七-java模块化" class="header-anchor">#</a> 十七.Java模块化</h1> <h2 id="模块化概述"><a href="#模块化概述" class="header-anchor">#</a> 模块化概述</h2> <p>Java语言随着这些年的发展已经成为了一门影响深远的编程语言，无数平台，系统都采用Java语言编写。但是，伴随着发展，Java也越来越庞大，逐渐发展成为一门“臃肿”的语言。而且，无论是运行一个大型的软件系统，还是运行一个小的程序，即使程序只需要使用Java的部分核心功能，VM也要加载整个JRE环境。为了给Java“瘦身”，让Java实现轻量化，Java 9正式的推出了模块化系统。Java被拆分为N多个模块，并允许Java程序可以根据需要选择加载程序必须的Java模块，这样就可以让Java以轻量化的方式来运行。</p> <p>其实，Java 7的时候已经提出了模块化的概念，但由于其过于复杂，Java7，Java8都一直未能真正推出，直到Java 9才真正成熟起来。对于Java语言来说，模块化系统是一次真正的自我革新，这种革新使得“古老而庞大”的Java语言重新焕发年轻的活力。</p> <h1 id="十八-注解"><a href="#十八-注解" class="header-anchor">#</a> 十八.注解</h1> <p>**概念：**说明程序的。给计算机看的</p> <p>**注释：**用文字描述程序的。给程序员看的</p> <p>**定义：**注解(Annotation)，也叫元数据。一种代码级别的说明。它是JXK1.5及以后版本引入的一个特性，与类、接口、枚举是在同一个层次。它可以声明在包、类、字段、方法、局部变量、方法参数等的前面，用来对这些元秦进行说明，注释。</p> <p><strong>作用</strong></p> <ul><li>编写文档：通过代码里标识的元数据生成文档【生成文档doc文档】</li> <li>代码分析：通过代码里标识的元数据对代码进行分析【使用反射】</li> <li>编译检查：通过代码里标识的元数据让编译器能够实现基本的编译检查【override】</li></ul> <h2 id="jdk内置注解"><a href="#jdk内置注解" class="header-anchor">#</a> JDK内置注解</h2> <ul><li>@Override：用来检测被该注解标注的方法是否是继承自父类（父接口）</li> <li>@Deprecated：将该注解标注的内容，已过时</li> <li>@SuppressWarnings：压制警告，金庸编译器提示的警告，可以在类上使用，参数[&quot;all&quot;,,,]</li> <li>@Overload：重写父类（父接口）方法</li> <li>@SafeVarargs：参数安全类型注解。它的目的是提醒开发者不要用参数做一些不安全的操作,它的存在会阻止编译器产生 unchecked 这样的警告</li> <li>@FunctionalInterface：函数式接口 (Functional Interface) 就是一个具有一个方法的普通接口。</li></ul> <h2 id="自定义注解"><a href="#自定义注解" class="header-anchor">#</a> 自定义注解</h2> <p><strong>自定义注解格式</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>元注解
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> 注解名称<span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p><strong>注解的本质</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">MyAnno</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span>Annotation</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">//注解本质上就是一个接口，该接口继承Annotation接口</span>
</code></pre></div><p><strong>属性</strong></p> <p>在注解接口中的抽象方法</p> <p>属性要求：</p> <ul><li>返回值类型要求：基本数据类型、String、枚举、注解、以上类型的数组。</li> <li>定义了属性（抽象方法），在使用时需要给所有属性赋值。
<ul><li>如果定义属性是使用了default关键字给属性默认初始化值，则使用注解时可以不进行属性的赋值</li> <li>如果定义的属性名称为<code>value</code>时，value关键字可以不写，直接赋值</li></ul></li></ul> <p><strong>定义注解</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnno</span> <span class="token punctuation">{</span>

    <span class="token keyword">int</span> <span class="token function">show1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">Person</span> <span class="token function">per</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token constant">P1</span><span class="token punctuation">;</span>

    <span class="token class-name">MyAnno2</span> <span class="token function">anno2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token annotation punctuation">@MyAnno2</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">strs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><p><strong>使用注解</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnnoDemo</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@MyAnno</span><span class="token punctuation">(</span>show1 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token annotation punctuation">@MyAnno</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token annotation punctuation">@MyAnno</span><span class="token punctuation">(</span>per <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token constant">P2</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">per</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token annotation punctuation">@MyAnno</span><span class="token punctuation">(</span>anno2 <span class="token operator">=</span> <span class="token annotation punctuation">@MyAnno2</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">anno2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token annotation punctuation">@MyAnno</span><span class="token punctuation">(</span>strs <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">strs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="元注解"><a href="#元注解" class="header-anchor">#</a> 元注解</h2> <p>元注解是用于描述注解的注解</p> <ul><li>@Target：描述能够作用的位置
<ul><li>ElementType取值
<ul><li>TYPE：可以作用于类上</li> <li>METHOD：可以作用于方法上</li> <li>FIELD：可以作用于成员变量上</li></ul></li></ul></li> <li>@Retention：描述注解被保留的阶段
<ul><li>RetentionPolicy取值
<ul><li>RUNTIME：会保留到class字节码文件中，并被JVM读取到</li> <li>CLASS：会保留到class字节码文件中，不会被JVM读取到</li> <li>SOURCE：只保留在源代码中</li></ul></li></ul></li> <li>@Documented：描述注解是否被抽取到api文档中</li> <li>@Inherited：描述注解是否被子类继承</li></ul> <h1 id="十九-多线程编程"><a href="#十九-多线程编程" class="header-anchor">#</a> 十九.多线程编程</h1> <h2 id="多线程的实现方式"><a href="#多线程的实现方式" class="header-anchor">#</a> 多线程的实现方式</h2> <h3 id="方式1-继承thread类"><a href="#方式1-继承thread类" class="header-anchor">#</a> <strong>方式1：继承Thread类</strong></h3> <ol><li>定义一个类MyThread继承Thread类</li> <li>在MyThread类中重写run()方法</li> <li>创建MyThread类的对象</li> <li>启动线程</li></ol> <p><strong>两个小问题：</strong></p> <ul><li>为什么要重写run()方法?
<ul><li>因为run()是用来封装被线程执行的代码</li></ul></li> <li>run()方法和start()方法的区别?
<ul><li>run():  封装线程执行的代码，直接调用，相当于普通方法的调用</li> <li>start():启动线程;然后由JVM调用此线程的run()方法</li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadDemo</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ThreadDemo</span> td <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        td<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;关羽&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        td<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="方式2-实现runnable接口"><a href="#方式2-实现runnable接口" class="header-anchor">#</a> 方式2：实现Runnable接口</h3> <ol><li>定义一个类MyRunnable实现Runnable接口</li> <li>在MyRunnable类中重写run()方法</li> <li>创建MyRunnable类的对象</li> <li>创建Thread类的对象，把MyRunnable对象作为构造方法的参数</li> <li>启动线程</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RunnableDemo</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">RunnableDemo</span> runnableDemo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RunnableDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>runnableDemo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;哈拉少&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="设置和获取线程名称"><a href="#设置和获取线程名称" class="header-anchor">#</a> 设置和获取线程名称</h2> <p><strong>Thread类中设置和获取线程名称的方法</strong></p> <ul><li>void setName(Stringname)：将此线程的名称更改为等于参数</li> <li>nameString getName()：返回此线程的名称</li></ul> <h2 id="线程调度"><a href="#线程调度" class="header-anchor">#</a> 线程调度</h2> <p><strong>线程有两种调度模型</strong></p> <ul><li><p>分时调度模型：所有线程轮流使用CPU的使用权，平均分配每个线程占用CPU的时间片。</p></li> <li><p>抢占式调度模型：优先让优先级高的线程使用CPU，如果线程的优先级相同，那么会随机选择一个优先级高的线程获取的CPU时间片相对多一些。</p></li></ul> <p>Java使用的是抢占式调度模型。</p> <p>假如计算机只有一个CPU，那么CPU在某一个时刻只能执行一条指令，线程只有得到CPU时间片，也就是使用权,才可以执行指令。所以说多线程程序的执行是有<code>随机性</code>，因为谁抢到CPU的使用权是不一定的。</p> <p><strong>Thread类中设置和获取线程优先级的方法</strong></p> <ul><li><p>public final int getPriority()：返回此线程的优先级。</p></li> <li><p>public final void setPriority(int newPriority)：更改此线程的优先级。</p></li></ul> <h2 id="线程控制"><a href="#线程控制" class="header-anchor">#</a> 线程控制</h2> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>static void sleep(long millis)</td> <td>使当前正在执行的线程停留（暂停执行）指定的毫秒数。</td></tr> <tr><td>void join()</td> <td>等待这个线程死亡。</td></tr> <tr><td>void setDaemon(boolean on)</td> <td>将此线程标记为守护线程，当运行的线程都是守护线程时，Java虚拟机将退出。</td></tr></tbody></table> <h2 id="线程生命周期"><a href="#线程生命周期" class="header-anchor">#</a> 线程生命周期</h2> <p><img src="http://img.fancynet.cn/typora_img/image-20220721130405837.png" alt="image-20220721130405837"></p> <h2 id="线程同步"><a href="#线程同步" class="header-anchor">#</a> 线程同步</h2> <h3 id="同步代码块解决线程安全问题"><a href="#同步代码块解决线程安全问题" class="header-anchor">#</a> 同步代码块解决线程安全问题</h3> <p>锁多条语句操作共享数据，可以使用同步代码块实现。</p> <p><strong>格式</strong></p> <div class="language- extra-class"><pre class="language-text"><code>synchronized (任意对象){ 多条语句操作共享数据的代码 }
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>tickets <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> threadName <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>threadName <span class="token operator">+</span> <span class="token string">&quot;正在出售第&quot;</span> <span class="token operator">+</span> tickets <span class="token operator">+</span> <span class="token string">&quot;张票&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                tickets<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>同步的好处和弊端</strong></p> <p>好处: 解决了多线程的数据安全问题.</p> <p>弊端: 当线程很多时，因为每个线程都会去判断同步上的锁，这是很耗费资源的，无形中会降低程序的运行效率.</p> <h3 id="同步方法"><a href="#同步方法" class="header-anchor">#</a> 同步方法</h3> <p>同步方法：就是把synchronized关键字加到方法上。</p> <p><strong>格式</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>修饰符 <span class="token keyword">synchronized</span> 返回值类型 方法名<span class="token punctuation">(</span>方法参数<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">sellTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tickets <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> threadName <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>threadName <span class="token operator">+</span> <span class="token string">&quot;正在出售第&quot;</span> <span class="token operator">+</span> tickets <span class="token operator">+</span> <span class="token string">&quot;张票&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tickets<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>同步方法的锁对象是什么呢?</p> <ul><li>同步方法：==this==</li> <li>同步静态方法：==类名.class==</li></ul> <p>同步静态方法:就是把<code>synchronized</code>关键字加到静态方法上</p> <div class="language-java extra-class"><pre class="language-java"><code>修饰符 <span class="token keyword">static</span> <span class="token keyword">synchronized</span> 返回值类型 方法名<span class="token punctuation">(</span>方法参数<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">sellTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tickets <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> threadName <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>threadName <span class="token operator">+</span> <span class="token string">&quot;正在出售第&quot;</span> <span class="token operator">+</span> tickets <span class="token operator">+</span> <span class="token string">&quot;张票&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tickets<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="线程安全的类"><a href="#线程安全的类" class="header-anchor">#</a> 线程安全的类</h2> <p><strong>StringBuffer</strong></p> <ul><li>线程安全，可变的字符序列</li> <li>从版本JDK5开始，被StringBuilder替代。通常应该使用StringBuilder类，因为它支持所有相同的操作，但它更快，因为它不执行同步</li></ul> <p><strong>Vector</strong></p> <ul><li>从Java 2平台v1.2开始，该类改进了List接口，使其成为Java CollectionsFramework的成员与新的集合实现不同， Vector被同步。如果不需要线程安全的实现，建议使用ArrayList代替Vector</li></ul> <p><strong>Hashtable</strong></p> <ul><li>该类实现了一个哈希表，它将键映射到值。任何非null对象都可以用作键或者值</li> <li>从Java 2平台v1.2开始，该类进行了改进，实现了Map接口，使其成为JavaCollections Framework的成员。与新的集合实现不同，Hashtable被同步。如果不需要线程安全的实现，建议使用HashMap代替Hashtable</li></ul> <h2 id="lock锁"><a href="#lock锁" class="header-anchor">#</a> Lock锁</h2> <p>虽然我们可以理解同步代码块和同步方法的锁对象问题，但是我们并没有直接看到在哪里加上了锁，在哪里释放了锁,为了更清晰的表达如何加锁和释放锁，JDK5以后提供了一个新的锁对象Lock。</p> <p>Lock实现提供比使用synchronized方法和语句可以获得更广泛的锁定操作。</p> <p>Lock中提供了获得锁和释放锁的方法：</p> <ul><li><p>void lock()：获得锁</p></li> <li><p>void unlock()：释放锁</p></li></ul> <p>Lock是接口不能直接实例化，这里采用它的实现类<code>ReentrantLock</code>来实例化。</p> <p>ReentrantLock的构造方法
ReentrantLock()：创建一个ReentrantLock的实例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sellTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        lock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tickets <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> threadName <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>threadName <span class="token operator">+</span> <span class="token string">&quot;正在出售第&quot;</span> <span class="token operator">+</span> tickets <span class="token operator">+</span> <span class="token string">&quot;张票&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            tickets<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="生产者-消费者模式"><a href="#生产者-消费者模式" class="header-anchor">#</a> 生产者/消费者模式</h2> <p>所谓生产者消费者问题，实际上主要是包含了两类线程：</p> <ul><li>一类是生产者线程用于生产数据。</li> <li>一类是消费者线程用于消费数据。</li></ul> <p>为了解耦生产者和消费者的关系，通常会采用共享的数据区域，就像是一个仓库。</p> <p>生产者生产数据之后直接放置在共享数据区中，并不需要关心消费者的行为。</p> <div class="language-mermaid extra-class"><pre class="language-mermaid"><code><span class="token keyword">graph</span> LR<span class="token punctuation">;</span>
生产者<span class="token arrow operator">--&gt;</span>共享数据区域<span class="token punctuation">;</span>
消费者<span class="token arrow operator">--&gt;</span>共享数据区域
</code></pre></div><p>为了体现生产和消费过程中的等待和唤醒，Java就提供了几个方法供我们使用，这几个方法在Object类中Object类的等待和唤醒方法：</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>void wait()</td> <td>导致当前线程等待，直到另一个线程调用该对象的notify()方法或notifyAll()方法</td></tr> <tr><td>void notify()</td> <td>唤醒正在等待对象监视器的单个线程</td></tr> <tr><td>void notifyAll()</td> <td>唤醒正在等待对象监视器的所有线程</td></tr></tbody></table> <h1 id="拓展知识"><a href="#拓展知识" class="header-anchor">#</a> 拓展知识</h1> <p><strong>java内置命令</strong></p> <ul><li>java：执行Java字节码文件</li> <li>javac：编译Java文件</li> <li>javadoc：生成类描述文档</li> <li>javap：反编译字节码文件</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/myblog/assets/js/app.b6c79e47.js" defer></script><script src="/myblog/assets/js/2.07c82013.js" defer></script><script src="/myblog/assets/js/8.ed85e747.js" defer></script>
  </body>
</html>
